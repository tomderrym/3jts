{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "dashboard-dialog-03",
  "type": "registry:block",
  "description": "A payment method addition dialog with credit card form, card preview, input validation, and secure payment processing integration.",
  "dependencies": [
    "lucide-react",
    "react-credit-cards-3",
    "react-payment-inputs"
  ],
  "registryDependencies": [
    "avatar",
    "button",
    "dialog",
    "input",
    "label",
    "utils"
  ],
  "files": [
    {
      "path": "src/registry/new-york/blocks/dashboard-and-application/dashboard-dialog/dashboard-dialog-03/page.tsx",
      "content": "import { Button } from '@/components/ui/button'\nimport AddPaymentMethodDialog from '@/components/shadcn-studio/blocks/dashboard-dialog-03/dialog-add-payment-method'\n\nconst DialogPage = () => {\n  return (\n    <div className='flex h-dvh items-start justify-center p-8'>\n      <AddPaymentMethodDialog\n        defaultOpen\n        trigger={\n          <Button variant='outline'>\n            <span>Add payment method</span>\n          </Button>\n        }\n      />\n    </div>\n  )\n}\n\nexport default DialogPage\n",
      "type": "registry:page",
      "target": "app/dashboard-dialog-03/page.tsx"
    },
    {
      "path": "src/registry/new-york/components/blocks/dashboard-dialog-03/dialog-add-payment-method.tsx",
      "content": "'use client'\n\nimport { useState, type ReactNode } from 'react'\n\nimport { CreditCardIcon } from 'lucide-react'\n\nimport Cards from 'react-credit-cards-3'\nimport 'react-credit-cards-3/dist/es/styles-compiled.css'\n\nimport { usePaymentInputs } from 'react-payment-inputs'\n\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from '@/components/ui/dialog'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\n\nimport { cn } from '@/lib/utils'\n\ntype Props = {\n  trigger: ReactNode\n  defaultOpen?: boolean\n  className?: string\n}\n\nconst AddPaymentMethodDialog = ({ defaultOpen = false, trigger, className }: Props) => {\n  const [open, setOpen] = useState(defaultOpen)\n\n  const [state, setState] = useState({\n    number: '',\n    expiry: '',\n    cvc: '',\n    name: '',\n    focus: ''\n  })\n\n  //@ts-ignore\n  const handleInputChange = evt => {\n    const { name, value } = evt.target\n\n    setState(prev => ({ ...prev, [name]: value }))\n  }\n\n  //@ts-ignore\n  const handleInputFocus = evt => {\n    setState(prev => ({ ...prev, focus: evt.target.name }))\n  }\n\n  const { getCardNumberProps, getExpiryDateProps, getCVCProps } = usePaymentInputs()\n\n  // Transform expiry for Cards component - remove spaces and ensure MM/YY format\n  const getFormattedExpiry = (expiry: string) => {\n    const cleanExpiry = expiry.replace(/\\s/g, '') // Remove spaces\n\n    return cleanExpiry\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild onClick={() => setOpen(true)}>\n        {trigger}\n      </DialogTrigger>\n      <DialogContent className={cn('sm:max-w-155 [&>[data-slot=dialog-close]>svg]:size-5', className)}>\n        <DialogHeader className='flex-row items-center gap-4 text-left'>\n          <Avatar className='size-11 shrink-0 rounded-md'>\n            <AvatarFallback className='rounded-md border bg-transparent'>\n              <CreditCardIcon className='size-6' />\n            </AvatarFallback>\n          </Avatar>\n          <div className='space-y-1'>\n            <DialogTitle className='m-0 text-lg'>Add Payment Method</DialogTitle>\n            <DialogDescription className='text-sm'>Add a payment method to active plan</DialogDescription>\n          </div>\n        </DialogHeader>\n\n        {/* Credit card */}\n        <div className='bg-muted flex items-center justify-center rounded-lg p-6 max-[420px]:p-2 sm:min-h-82.5 max-[420px]:[&>div]:!w-full max-[420px]:[&>div>div]:!w-full'>\n          <Cards\n            number={state.number}\n            expiry={getFormattedExpiry(state.expiry)}\n            cvc={state.cvc}\n            name={state.name}\n            focused={state.focus as 'name' | 'number' | 'expiry' | 'cvc' | undefined}\n          />\n        </div>\n\n        <div className='grid grid-cols-4 gap-4'>\n          <div className='col-span-3 space-y-1 max-sm:col-span-4'>\n            <Label htmlFor='username'>Name on card</Label>\n            <Input\n              id='username'\n              type='text'\n              name='name'\n              placeholder='John Doe'\n              value={state.name}\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n            />\n          </div>\n\n          <div className='space-y-1 max-sm:col-span-4'>\n            <Label htmlFor='expiry-date'>Expiry</Label>\n            <Input\n              {...getExpiryDateProps({ onChange: handleInputChange, onFocus: handleInputFocus })}\n              id='expiry-date'\n              name='expiry'\n              value={state.expiry}\n              placeholder='MM/YY'\n            />\n          </div>\n\n          <div className='col-span-3 space-y-1 max-sm:col-span-4'>\n            <Label htmlFor='card-number'>Card number</Label>\n            <Input\n              {...getCardNumberProps()}\n              id='card-number'\n              name='number'\n              value={state.number}\n              placeholder='1234 5678 9012 3456'\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n            />\n          </div>\n\n          <div className='space-y-1 max-sm:col-span-4'>\n            <Label htmlFor='cvc'>CVC</Label>\n            <Input\n              {...getCVCProps()}\n              id='cvc'\n              name='cvc'\n              placeholder='CVC'\n              value={state.cvc}\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n            />\n          </div>\n        </div>\n\n        <DialogFooter className='gap-4'>\n          <DialogClose asChild>\n            <Button variant='outline' size='lg'>\n              Cancel\n            </Button>\n          </DialogClose>\n          <Button size='lg'>Add card details</Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nexport default AddPaymentMethodDialog\n",
      "type": "registry:component",
      "target": "components/shadcn-studio/blocks/dashboard-dialog-03/dialog-add-payment-method.tsx"
    }
  ]
}