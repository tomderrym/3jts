{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "product-overview-02",
  "type": "registry:block",
  "description": "Advanced product page with carousel, rating stars, brand info, collapsible shipping options with radio selection, quantity controls, delivery calculator with select dropdowns, and store location card",
  "dependencies": [
    "lucide-react",
    "react-aria-components"
  ],
  "registryDependencies": [
    "breadcrumb",
    "button",
    "separator",
    "radio-group",
    "carousel",
    "collapsible",
    "card",
    "select",
    "input",
    "utils"
  ],
  "files": [
    {
      "path": "src/registry/new-york/blocks/ecommerce/product-overview/product-overview-02/page.tsx",
      "content": "import ProductOverview from '@/components/shadcn-studio/blocks/product-overview-02/product-overview-02'\n\nconst overviewData = [\n  {\n    name: 'Cricket Power Shoes for Men',\n    breadcrumbData: [\n      {\n        label: 'Home',\n        href: '#'\n      },\n      {\n        label: 'Mens Footwear',\n        href: '#'\n      },\n      {\n        label: 'Adidas Cricket Shoes',\n        href: '#'\n      }\n    ],\n    brand: 'ADIDAS',\n    itemSold: 1_475,\n    description:\n      'Designed for optimal performance on the field, these lightweight and comfortable shoes offer excellent support.',\n    totalReview: 698,\n    storeLink: '#',\n    rating: 4.5,\n    hasDiscount: true,\n    address: 'New York, USA',\n    shippingCharges: 4.99,\n    price: 60,\n    discountPercentage: 52,\n    images: [\n      {\n        src: 'https://cdn.shadcnstudio.com/ss-assets/blocks/ecommerce/product-overview/image-10.png',\n        alt: 'image-10'\n      },\n      {\n        src: 'https://cdn.shadcnstudio.com/ss-assets/blocks/ecommerce/product-overview/image-9.png',\n        alt: 'image-9'\n      },\n      {\n        src: 'https://cdn.shadcnstudio.com/ss-assets/blocks/ecommerce/product-overview/image-8.png',\n        alt: 'image-8'\n      },\n      {\n        src: 'https://cdn.shadcnstudio.com/ss-assets/blocks/ecommerce/product-overview/image-6.png',\n        alt: 'image-6'\n      }\n    ],\n    defaultSize: '10',\n    defaultColorOption: 'blue'\n  }\n]\n\nconst sizes = [\n  {\n    value: '6',\n    label: '6'\n  },\n  {\n    value: '7',\n    label: '7'\n  },\n  {\n    value: '8',\n    label: '8'\n  },\n  {\n    value: '9',\n    label: '9'\n  },\n  {\n    value: '10',\n    label: '10'\n  },\n  {\n    value: '11',\n    label: '11'\n  }\n]\n\nconst colors = [\n  {\n    value: 'blue',\n    src: 'https://cdn.shadcnstudio.com/ss-assets/blocks/ecommerce/product-overview/image-10.png'\n  },\n  {\n    value: 'white',\n    src: 'https://cdn.shadcnstudio.com/ss-assets/blocks/ecommerce/product-overview/image-31.png'\n  }\n]\n\nconst ProductOverviewPage = () => {\n  return <ProductOverview productItems={overviewData} sizesChart={sizes} colorsChart={colors} />\n}\n\nexport default ProductOverviewPage\n",
      "type": "registry:page",
      "target": "app/product-overview-02/page.tsx"
    },
    {
      "path": "src/registry/new-york/components/blocks/product-overview-02/product-overview-02.tsx",
      "content": "'use client'\n\nimport { useId, useEffect, useState } from 'react'\n\nimport {\n  StarIcon,\n  TruckIcon,\n  BadgePercentIcon,\n  StoreIcon,\n  MapPinIcon,\n  ChevronDownIcon,\n  MinusIcon,\n  PlusIcon\n} from 'lucide-react'\n\nimport { Button as AriaButton, Group, Input as AriaInput, NumberField } from 'react-aria-components'\n\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbList,\n  BreadcrumbPage,\n  BreadcrumbSeparator\n} from '@/components/ui/breadcrumb'\nimport { Button } from '@/components/ui/button'\nimport { Separator } from '@/components/ui/separator'\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group'\nimport { Carousel, CarouselContent, CarouselItem, type CarouselApi } from '@/components/ui/carousel'\nimport { Rating } from '@/components/ui/rating'\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from '@/components/ui/select'\n\nimport { cn } from '@/lib/utils'\n\ntype ProductOverviewProps = {\n  productItems: {\n    name: string\n    brand: string\n    itemSold: number\n    description: string\n    totalReview: number\n    storeLink: string\n    rating: number\n    price: number\n    hasDiscount?: boolean\n    discountPercentage?: number\n    address?: string\n    shippingCharges?: number\n    images: Array<{\n      src: string\n      alt: string\n    }>\n    breadcrumbData: Array<{\n      label: string\n      href?: string\n    }>\n    defaultSize?: string\n    defaultColorOption?: string\n  }[]\n  sizesChart: {\n    value: string\n    label: string\n    disabled?: boolean\n  }[]\n  colorsChart: {\n    value: string\n    src: string\n    disabled?: boolean\n  }[]\n}\n\nconst ProductOverview = ({ productItems, colorsChart, sizesChart }: ProductOverviewProps) => {\n  const id = useId()\n\n  const [selectedImage, setSelectedImage] = useState(0)\n  const [api, setApi] = useState<CarouselApi>()\n  const [quantity, setQuantity] = useState(1)\n  const [selectedColor, setSelectedColor] = useState(productItems[0]?.defaultColorOption || colorsChart[0]?.value || '')\n  const [selectedSize, setSelectedSize] = useState(productItems[0]?.defaultSize || sizesChart[0]?.value || '')\n  const [deliveryOption, setDeliveryOption] = useState('regular')\n\n  // Sync carousel with thumbnail selection\n  useEffect(() => {\n    if (!api) return\n\n    api.scrollTo(selectedImage)\n  }, [api, selectedImage])\n\n  // Update selectedImage when carousel changes\n  useEffect(() => {\n    if (!api) return\n\n    const onSelect = () => {\n      setSelectedImage(api.selectedScrollSnap())\n    }\n\n    api.on('select', onSelect)\n    onSelect()\n\n    return () => {\n      api.off('select', onSelect)\n    }\n  }, [api])\n\n  return (\n    <section className='bg-muted py-8 sm:py-16 lg:py-24'>\n      <div className='mx-auto max-w-7xl px-4 sm:px-6 lg:px-8'>\n        {productItems.map(item => {\n          // Calculate prices per item\n          const originalPrice = item.price\n          const discountPercentage = item.discountPercentage || 0\n          const hasDiscount = item.hasDiscount && discountPercentage > 0\n\n          const finalPrice = hasDiscount ? originalPrice - (originalPrice * discountPercentage) / 100 : originalPrice\n\n          // Calculate delivery charges based on selected option\n          const baseShipping = item.shippingCharges || 0\n          const deliveryCharges = deliveryOption === '1 day' ? baseShipping + 10 : baseShipping\n\n          const totalPrice = finalPrice * quantity + deliveryCharges\n\n          return (\n            <div key={item.name}>\n              <Breadcrumb className='mb-12 md:mb-16 lg:mb-24'>\n                <BreadcrumbList>\n                  {item.breadcrumbData.map((breadcrumb, index) => (\n                    <div key={`${breadcrumb.label}-${index}`} className='flex items-center gap-2.5'>\n                      <BreadcrumbItem>\n                        {index === item.breadcrumbData.length - 1 ? (\n                          <BreadcrumbPage>{breadcrumb.label}</BreadcrumbPage>\n                        ) : (\n                          <BreadcrumbLink href={breadcrumb.href || '#'}>{breadcrumb.label}</BreadcrumbLink>\n                        )}\n                      </BreadcrumbItem>\n                      {index < item.breadcrumbData.length - 1 && (\n                        <BreadcrumbSeparator key={`${breadcrumb.label}-sep`} />\n                      )}\n                    </div>\n                  ))}\n                </BreadcrumbList>\n              </Breadcrumb>\n\n              <div className='grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3'>\n                {/* Left Side - Image Carousel */}\n\n                <div className='flex flex-col gap-8'>\n                  <div>\n                    <Carousel\n                      className='w-full'\n                      setApi={setApi}\n                      opts={{\n                        align: 'start',\n                        loop: true\n                      }}\n                    >\n                      <CarouselContent>\n                        {item.images.map((image, index) => (\n                          <CarouselItem key={`${image.alt}-${index}`}>\n                            <div className='h-99 overflow-hidden rounded-lg bg-gray-100'>\n                              <img src={image.src} alt={image.alt} className='h-full w-full object-cover' />\n                            </div>\n                          </CarouselItem>\n                        ))}\n                      </CarouselContent>\n                    </Carousel>\n                  </div>\n\n                  <div className='flex justify-between gap-6'>\n                    {item.images.map((image, index) => (\n                      <button\n                        key={index}\n                        type='button'\n                        onClick={() => setSelectedImage(index)}\n                        className='cursor-pointer overflow-hidden rounded-sm transition-all duration-200'\n                      >\n                        <img src={image.src} alt={image.alt} className='size-20 object-cover' />\n                      </button>\n                    ))}\n                  </div>\n\n                  <div className='space-y-1 rounded-md border px-4'>\n                    <div className='flex items-center gap-2 py-4'>\n                      <StoreIcon className='size-5.5' />\n                      <p className='text-muted-foreground flex grow items-center gap-1 font-medium'>\n                        Stylish\n                        <BadgePercentIcon className='text-foreground size-4' />\n                      </p>\n                      <StarIcon className='mb-0.5 size-4 fill-amber-500 stroke-transparent' />\n                      <p className='text-muted-foreground font-semibold'>({item.rating})</p>\n                      <p className='text-green-500'>{item.totalReview} Reviews</p>\n                    </div>\n                    <Separator />\n                    <div className='flex items-center gap-2 py-4'>\n                      <MapPinIcon className='text-foreground size-5.5' />\n                      <p className='text-muted-foreground grow font-medium'>{item.address}</p>\n                      <Button asChild variant='outline' size='sm'>\n                        <a href={item.storeLink}>Visit Store</a>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Right Side - Product Details */}\n                <div className='space-y-7'>\n                  {/* Breadcrumb */}\n                  <div className='space-y-3'>\n                    <p className='text-muted-foreground font-medium uppercase'>{item.brand}</p>\n                    {/* Product Name */}\n                    <h1 className='text-2xl font-semibold'>{item.name}</h1>\n                    {/* Rating */}\n                    <div className='flex items-center gap-3'>\n                      <Rating readOnly variant='yellow' size={16} value={item.rating} precision={0.5} />\n                      <span className='text-muted-foreground font-medium'>({item.rating})</span>\n\n                      <span className='text-green-500'>{item.totalReview} Reviews</span>\n                      <span className='text-muted-foreground'>{item.itemSold} sold</span>\n                    </div>\n                  </div>\n                  {/* Price */}\n                  {!hasDiscount ? (\n                    <div className='w-fit rounded-lg border px-4 py-1.5'>\n                      <h4 className='text-muted-foreground text-3xl font-bold'>${finalPrice.toFixed(2)}</h4>\n                    </div>\n                  ) : (\n                    <div className='flex w-fit items-center gap-2 rounded-lg border px-4 py-1.5'>\n                      <h4 className='text-muted-foreground text-3xl font-bold'>${finalPrice.toFixed(2)}</h4>\n                      <span className='text-muted-foreground line-through'>${originalPrice.toFixed(2)}</span>\n                      <span className='text-destructive font-medium'>( {discountPercentage}% OFF )</span>\n                    </div>\n                  )}\n                  {/* Color Selection */}\n                  <div className='flex flex-col gap-3'>\n                    <h4 className='font-semibold'>Select Color :</h4>\n                    <RadioGroup\n                      className='flex'\n                      defaultValue={item.defaultColorOption}\n                      onValueChange={setSelectedColor}\n                    >\n                      {colorsChart.map(colorItem => (\n                        <label\n                          key={`${id}-${colorItem.value}`}\n                          className={cn(\n                            `has-focus-visible:ring-ring/50 has-data-[state=checked]:border-primary relative size-15 overflow-hidden rounded-lg text-center shadow-xs transition-[color,box-shadow] outline-none has-focus-visible:ring-[3px] has-data-disabled:cursor-not-allowed has-data-disabled:opacity-50 has-data-[state=checked]:border`\n                          )}\n                        >\n                          <RadioGroupItem\n                            id={`${id}-${colorItem.value}`}\n                            value={colorItem.value}\n                            className='sr-only after:absolute after:inset-0'\n                            aria-label={`color-radio-${colorItem.value}`}\n                            disabled={colorItem.disabled}\n                          />\n                          <img src={colorItem.src} alt={colorItem.value} className='object-cover' />\n                        </label>\n                      ))}\n                    </RadioGroup>\n                  </div>\n                  {/* Size Selection */}\n                  <div className='flex flex-col gap-3'>\n                    <h4 className='font-semibold'>Select Size </h4>\n                    <RadioGroup className='flex' defaultValue={item.defaultSize} onValueChange={setSelectedSize}>\n                      {sizesChart.map(sizeItem => (\n                        <label\n                          key={`${id}-${sizeItem.value}`}\n                          className='border-input group has-data-[state=checked]:bg-primary has-focus-visible:border-ring has-focus-visible:ring-ring/50 bg-background relative flex flex-col items-center gap-3 rounded-md border px-3 py-1.5 text-center shadow-xs transition-[color,box-shadow] outline-none has-focus-visible:ring-[3px] has-data-disabled:cursor-not-allowed has-data-disabled:opacity-50'\n                        >\n                          <RadioGroupItem\n                            id={`${id}-${sizeItem.value}`}\n                            value={sizeItem.value}\n                            className='sr-only after:absolute after:inset-0'\n                            aria-label={`size-radio-${sizeItem.value}`}\n                            disabled={sizeItem.disabled}\n                          />\n                          <p className='text-foreground group-has-data-[state=checked]:text-primary-foreground text-sm leading-none font-medium'>\n                            {sizeItem.label}\n                          </p>\n                        </label>\n                      ))}\n                    </RadioGroup>\n                  </div>\n\n                  {/* Description */}\n                  <div className='flex flex-col gap-3'>\n                    <h4 className='font-semibold'>Description</h4>\n                    <p className='text-muted-foreground font-normal'>\n                      {item.description}{' '}\n                      <a href='#' className='text-foreground'>\n                        Read more\n                      </a>\n                    </p>\n                  </div>\n\n                  {/* Description */}\n                  <div className='flex flex-col gap-3'>\n                    <h4 className='font-semibold'>Details</h4>\n                    <div className='flex items-center gap-3'>\n                      <MapPinIcon className='text-muted-foreground size-5' />\n                      <p className='text-muted-foreground grow font-medium'>\n                        Sent from <span className='font-semibold'>{item.address}</span>\n                      </p>\n                    </div>\n                    <Collapsible>\n                      <div className='flex items-center gap-3'>\n                        <TruckIcon className='text-muted-foreground size-5 shrink-0' />\n                        <p className='text-muted-foreground font-medium'>\n                          Shipping <span className='font-semibold'>${item.shippingCharges}</span>\n                        </p>\n\n                        <CollapsibleTrigger className='flex items-center justify-between gap-1 text-sm'>\n                          Shipping Details\n                          <ChevronDownIcon className='size-4 transition-transform [[data-state=open]_&]:rotate-180' />\n                        </CollapsibleTrigger>\n                      </div>\n                      <CollapsibleContent>\n                        <p className='text-muted-foreground'>\n                          To track your order, simply log in to your account and navigate to the order history section.\n                          You&apos;ll find detailed information about your order status and tracking number there.\n                        </p>\n                      </CollapsibleContent>\n                    </Collapsible>\n                  </div>\n                </div>\n\n                <Card className='h-fit md:max-lg:col-span-2'>\n                  <CardContent className='space-y-8'>\n                    <h3 className='text-muted-foreground border-b pb-3 text-2xl font-semibold'>Order Details</h3>\n                    <div className='flex items-center gap-4'>\n                      <span className='text-muted-foreground grow text-lg font-semibold'>Quantity</span>\n                      <NumberField\n                        className='w-full max-w-32 space-y-2'\n                        value={quantity}\n                        onChange={setQuantity}\n                        minValue={1}\n                        formatOptions={{\n                          useGrouping: false\n                        }}\n                      >\n                        <Group className='dark:bg-input/30 border-input data-focus-within:border-ring data-focus-within:ring-ring/50 data-focus-within:has-aria-invalid:ring-destructive/20 dark:data-focus-within:has-aria-invalid:ring-destructive/40 data-focus-within:has-aria-invalid:border-destructive relative inline-flex h-9 w-full min-w-0 items-center overflow-hidden rounded-lg border bg-transparent text-base whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none data-disabled:pointer-events-none data-disabled:cursor-not-allowed data-disabled:opacity-50 data-focus-within:ring-[3px] md:text-sm'>\n                          <AriaButton\n                            slot='decrement'\n                            className='bg-primary/10 text-muted-foreground hover:bg-accent hover:text-foreground ms-2 flex aspect-square h-5.5 items-center justify-center rounded text-sm transition-[color,box-shadow] disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50'\n                          >\n                            <MinusIcon className='size-3.5' />\n                            <span className='sr-only'>Decrement</span>\n                          </AriaButton>\n                          <AriaInput className='selection:bg-primary selection:text-primary-foreground w-full grow px-3 py-2 text-center tabular-nums outline-none' />\n                          <AriaButton\n                            slot='increment'\n                            className='bg-primary/10 text-muted-foreground hover:bg-accent hover:text-foreground me-2 flex aspect-square h-5.5 items-center justify-center rounded text-sm transition-[color,box-shadow] disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50'\n                          >\n                            <PlusIcon className='size-3.5' />\n                            <span className='sr-only'>Increment</span>\n                          </AriaButton>\n                        </Group>\n                      </NumberField>\n                    </div>\n                    <div className='space-y-3'>\n                      <div className='flex items-center gap-3'>\n                        <span className='text-muted-foreground grow'>Color</span>\n                        <span className='text-muted-foreground grow text-end capitalize'>{selectedColor}</span>\n                      </div>\n                      <div className='flex items-center gap-3'>\n                        <span className='text-muted-foreground grow'>Size</span>\n                        <span className='text-muted-foreground grow text-end uppercase'>{selectedSize}</span>\n                      </div>\n                      <div className='flex items-center gap-3'>\n                        <span className='text-muted-foreground grow'>Price</span>\n                        <span className='text-muted-foreground grow text-end'>${originalPrice.toFixed(2)}</span>\n                      </div>\n                      <div className='flex items-center gap-3'>\n                        <span className='text-muted-foreground grow'>Discount</span>\n                        <span className='text-muted-foreground grow text-end'>{discountPercentage}%</span>\n                      </div>\n                      <div className='flex items-center gap-3'>\n                        <div className='flex items-center gap-2'>\n                          <span className='text-muted-foreground grow'>Delivery</span>\n                          <Select defaultValue='regular' onValueChange={setDeliveryOption}>\n                            <SelectTrigger\n                              id={id}\n                              size='sm'\n                              className='bg-primary/10 !h-auto w-auto rounded-full px-2 py-1 text-xs'\n                            >\n                              <SelectValue placeholder='Select delivery option' />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectGroup>\n                                <SelectItem value='regular'>Regular</SelectItem>\n                                <SelectItem value='1 day'>1 Day (+$10)</SelectItem>\n                              </SelectGroup>\n                            </SelectContent>\n                          </Select>\n                        </div>\n                        <span className='text-muted-foreground grow text-end'>${deliveryCharges.toFixed(2)}</span>\n                      </div>\n                    </div>\n                    <Collapsible>\n                      <Button\n                        asChild\n                        className='w-full bg-amber-600/10 text-amber-600 hover:bg-amber-600/20 focus-visible:ring-amber-600/20 dark:bg-amber-400/10 dark:text-amber-400 dark:hover:bg-amber-400/20 dark:focus-visible:ring-amber-400/40'\n                        size='lg'\n                      >\n                        <CollapsibleTrigger>\n                          Apply Coupon\n                          <BadgePercentIcon className='size-4' />\n                        </CollapsibleTrigger>\n                      </Button>\n                      <CollapsibleContent className='mt-3'>\n                        <div className='flex items-center gap-3'>\n                          <Input type='text' placeholder='Apply Coupon' />\n                          <Button>Apply</Button>\n                        </div>\n                      </CollapsibleContent>\n                    </Collapsible>\n                    <div className='flex items-center gap-3 border-t pt-3'>\n                      <span className='text-muted-foreground grow'>Total</span>\n                      <span className='text-muted-foreground grow text-end text-lg font-medium'>\n                        ${totalPrice.toFixed(2)}\n                      </span>\n                    </div>\n                    <div className='flex items-center gap-4'>\n                      <Button variant='outline' size='lg' className='grow'>\n                        Add to cart\n                      </Button>\n                      <Button size='lg' className='grow'>\n                        Buy Now\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </section>\n  )\n}\n\nexport default ProductOverview\n",
      "type": "registry:component",
      "target": "components/shadcn-studio/blocks/product-overview-02/product-overview-02.tsx"
    },
    {
      "path": "src/registry/new-york/ui/rating.tsx",
      "content": "'use client'\n\nimport * as React from 'react'\n\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport { StarIcon, type LucideProps } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\n// Variants\nconst ratingVariants = cva('transition-colors', {\n  variants: {\n    variant: {\n      default: 'text-foreground fill-current',\n      destructive: 'text-destructive fill-current',\n      outline: 'text-muted-foreground fill-transparent stroke-current',\n      secondary: 'text-secondary-foreground fill-current',\n      yellow: 'fill-current text-amber-600 dark:text-amber-400'\n    }\n  },\n  defaultVariants: {\n    variant: 'default'\n  }\n})\n\n// Constants\nconst RATING_DEFAULTS = {\n  precision: 1,\n  maxStars: 5,\n  size: 20,\n  variant: 'default' as const,\n  icon: <StarIcon />\n} as const\n\n// Types\ninterface RatingItemProps extends React.ComponentProps<'label'> {\n  variant?: VariantProps<typeof ratingVariants>['variant']\n  size: number\n  value: number\n  hoveredValue: number | null\n  point: number\n  name: string\n  readOnly?: boolean\n  disabled?: boolean\n  precision: number\n  Icon: React.ReactElement<LucideProps>\n  onMouseLeave: React.MouseEventHandler<HTMLLabelElement>\n  onValueHover: (value: number) => void\n  onValueChange?: (value: number) => void\n}\n\ninterface RatingProps extends React.ComponentProps<'div'> {\n  value?: number\n  defaultValue?: number\n  name?: string\n  max?: number\n  size?: number\n  icon?: React.ReactElement<LucideProps>\n  variant?: VariantProps<typeof ratingVariants>['variant']\n  readOnly?: boolean\n  disabled?: boolean\n  precision?: number\n  onValueChange?: (value: number) => void\n  onValueHover?: (value: number) => void\n}\n\n// Rating Item Component\nfunction RatingItem({\n  size,\n  variant = 'default',\n  value,\n  point,\n  hoveredValue,\n  name,\n  readOnly = false,\n  disabled = false,\n  precision,\n  Icon,\n  onMouseLeave,\n  onValueChange,\n  onValueHover,\n  className,\n  ...props\n}: RatingItemProps) {\n  const Comp = readOnly ? 'span' : 'label'\n  const id = React.useId()\n  const ratingIconId = `rating-icon-${id}`\n  const isInteractive = !readOnly && !disabled\n  const partialPoint = point % 1\n  const isPartialPoint = partialPoint !== 0\n  const shouldShowFilled = (hoveredValue || value) >= point\n  const partialPointWidth = isPartialPoint && shouldShowFilled ? `${partialPoint * 100}%` : undefined\n\n  const icons = React.useMemo(() => {\n    const emptyIcon = React.cloneElement(Icon, {\n      size,\n      className: cn(\n        'fill-muted-foreground/20 stroke-muted-foreground/10',\n        variant === 'yellow' && 'fill-amber-600/30 stroke-amber-600/10 dark:fill-amber-400/30 dark:stroke-amber-400/10'\n      ),\n      'aria-hidden': 'true'\n    })\n\n    const fullIcon = React.cloneElement(Icon, {\n      size,\n      className: cn(ratingVariants({ variant })),\n      'aria-hidden': 'true'\n    })\n\n    return { emptyIcon, fullIcon }\n  }, [Icon, size, variant])\n\n  const getRatingPoint = React.useCallback(\n    (event: React.MouseEvent<HTMLLabelElement>) => {\n      const { left, width } = event.currentTarget.getBoundingClientRect()\n\n      if (width === 0 || precision <= 0 || precision > 1) return 0\n      const x = event.clientX - left\n      const fillRatio = x / width\n      const base = Math.ceil(point) - 1\n\n      return base + Math.ceil(fillRatio / precision) * precision\n    },\n    [precision, point]\n  )\n\n  const handleMouseMove = React.useCallback(\n    (event: React.MouseEvent<HTMLLabelElement>) => {\n      if (!isInteractive) return\n      onValueHover(getRatingPoint(event))\n    },\n    [isInteractive, onValueHover, getRatingPoint]\n  )\n\n  const handleClick = React.useCallback(\n    (event: React.MouseEvent<HTMLLabelElement>) => {\n      if (!isInteractive) return\n      const newPoint = getRatingPoint(event)\n\n      onValueHover(0)\n      onValueChange?.(newPoint === value ? 0 : newPoint)\n\n      // Prevent focus on click by blurring the element\n      event.currentTarget.blur()\n    },\n    [isInteractive, value, onValueChange, onValueHover, getRatingPoint]\n  )\n\n  return (\n    <>\n      <Comp\n        data-slot='rating-item'\n        htmlFor={readOnly ? undefined : `${ratingIconId}-${point}`}\n        aria-label={`${point} Stars`}\n        onClick={!readOnly ? handleClick : undefined}\n        onMouseMove={!readOnly ? handleMouseMove : undefined}\n        onMouseLeave={!readOnly ? onMouseLeave : undefined}\n        data-disabled={disabled}\n        data-readonly={readOnly}\n        data-filled={shouldShowFilled}\n        className={cn(\n          '[&_svg]:pointer-events-none',\n          isPartialPoint && 'pointer-events-none absolute top-0 left-0 overflow-hidden',\n          isInteractive && 'cursor-pointer hover:scale-105',\n          disabled && 'cursor-not-allowed opacity-50',\n          className\n        )}\n        style={{ width: partialPointWidth }}\n        {...props}\n      >\n        {!isPartialPoint && !shouldShowFilled && icons.emptyIcon}\n        {shouldShowFilled && icons.fullIcon}\n      </Comp>\n      {!readOnly && (\n        <input\n          type='radio'\n          id={`${ratingIconId}-${point}`}\n          name={name}\n          value={point}\n          className='sr-only'\n          tabIndex={-1}\n          data-slot='rating-input'\n        />\n      )}\n    </>\n  )\n}\n\n// Rating Component\nfunction Rating({\n  value: controlledValue,\n  defaultValue = 0,\n  name,\n  max = RATING_DEFAULTS.maxStars,\n  size = RATING_DEFAULTS.size,\n  icon: Icon = RATING_DEFAULTS.icon,\n  variant = RATING_DEFAULTS.variant,\n  className,\n  readOnly = false,\n  disabled = false,\n  precision = RATING_DEFAULTS.precision,\n  onValueChange,\n  onValueHover,\n  ...props\n}: RatingProps) {\n  const id = React.useId()\n  const ratingName = name ?? `rating-${id}`\n  const [internalValue, setInternalValue] = React.useState<number>(defaultValue)\n  const [hoveredValue, setHoveredValue] = React.useState<number>(0)\n  const isControlled = controlledValue !== undefined\n  const value = isControlled ? controlledValue : internalValue\n  const isInteractive = !readOnly && !disabled\n\n  const handleValueChange = React.useCallback(\n    (newValue: number) => {\n      if (!isControlled) {\n        setInternalValue(newValue)\n      }\n\n      onValueChange?.(newValue)\n    },\n    [isControlled, onValueChange]\n  )\n\n  const handleValueHover = React.useCallback(\n    (point: number) => {\n      setHoveredValue(point)\n      onValueHover?.(point)\n    },\n    [onValueHover]\n  )\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (!isInteractive) return\n\n      switch (event.key) {\n        case 'ArrowRight':\n        case 'ArrowUp':\n          event.preventDefault()\n\n          if (value + precision > max) {\n            handleValueChange(0)\n          } else {\n            handleValueChange(value + precision)\n          }\n\n          break\n        case 'ArrowLeft':\n        case 'ArrowDown':\n          event.preventDefault()\n\n          if (value - precision < 0) {\n            handleValueChange(max)\n          } else {\n            handleValueChange(value - precision)\n          }\n\n          break\n        case ' ':\n        case 'Enter':\n          event.preventDefault()\n\n          // If no rating is set, set to first step, otherwise clear rating\n          if (value === 0) {\n            handleValueChange(precision)\n          } else {\n            handleValueChange(0)\n          }\n\n          break\n        case 'Home':\n          event.preventDefault()\n          handleValueChange(precision)\n\n          break\n        case 'End':\n          event.preventDefault()\n          handleValueChange(max)\n\n          break\n        default:\n          break\n      }\n    },\n    [isInteractive, value, max, precision, handleValueChange]\n  )\n\n  const handleMouseDown = React.useCallback((event: React.MouseEvent<HTMLDivElement>) => {\n    // Prevent focus on mouse click\n    event.preventDefault()\n  }, [])\n\n  const stars = React.useMemo(() => {\n    if (precision <= 0 || precision > 1) {\n      console.warn('Rating: precision must be greater than 0 and less than or equal to 1')\n\n      return []\n    }\n\n    return Array.from({ length: max }, (_, index) => ({\n      key: index,\n      points: Array.from({ length: Math.floor(1 / precision) }, (_, i) => index + precision * (i + 1))\n    }))\n  }, [max, precision])\n\n  return (\n    <div\n      data-slot='rating'\n      role={!readOnly ? 'radiogroup' : 'img'}\n      onKeyDown={!readOnly ? handleKeyDown : undefined}\n      onMouseDown={!readOnly ? handleMouseDown : undefined}\n      tabIndex={!readOnly && !disabled ? 0 : undefined}\n      data-disabled={disabled}\n      data-readonly={readOnly}\n      className={cn(\n        'focus-visible:ring-ring/50 flex gap-px focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none',\n        disabled && 'opacity-50',\n        className\n      )}\n      aria-label={readOnly ? `${value} stars` : 'Rating'}\n      aria-valuemin={0}\n      aria-valuemax={max}\n      aria-valuenow={value}\n      aria-valuetext={`${value} of ${max} stars`}\n      {...props}\n    >\n      {stars.map(({ key, points }) => (\n        <span\n          key={key}\n          data-slot='rating-star'\n          className={cn(\n            'relative',\n            isInteractive && 'transition-transform hover:scale-110',\n            disabled && 'cursor-not-allowed'\n          )}\n          aria-disabled={disabled}\n          aria-hidden={readOnly}\n        >\n          {points.map(point => (\n            <RatingItem\n              key={point}\n              name={ratingName}\n              disabled={disabled}\n              hoveredValue={hoveredValue}\n              point={point}\n              precision={precision}\n              readOnly={readOnly}\n              size={size}\n              value={value}\n              variant={variant}\n              Icon={Icon}\n              onMouseLeave={() => setHoveredValue(0)}\n              onValueHover={handleValueHover}\n              onValueChange={handleValueChange}\n            />\n          ))}\n        </span>\n      ))}\n    </div>\n  )\n}\n\nexport { Rating, ratingVariants, type RatingProps }\n",
      "type": "registry:ui",
      "target": "components/ui/rating.tsx"
    }
  ]
}