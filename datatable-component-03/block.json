{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "datatable-component-03",
  "type": "registry:block",
  "description": "Fleet management datatable with column sorting, bulk selection checkboxes, progress indicators, warning systems, action dropdown menus, and pagination controls for tracking vehicles and routes",
  "dependencies": [
    "@tanstack/react-table",
    "lucide-react"
  ],
  "registryDependencies": [
    "avatar",
    "badge",
    "button",
    "checkbox",
    "card",
    "dropdown-menu",
    "pagination",
    "progress",
    "table",
    "utils"
  ],
  "files": [
    {
      "path": "src/registry/new-york/blocks/datatable/datatable-component/datatable-component-03/page.tsx",
      "content": "import { Card } from '@/components/ui/card'\n\nimport VehicleRouteDatatable, { type Item } from '@/components/shadcn-studio/blocks/datatable-vehicle-route'\n\nconst vehicleData: Item[] = [\n  {\n    id: '1',\n    vehicle: 159145,\n    startingRoute: 'Paris 19, France',\n    endingRoute: 'Dresdon, Germany',\n    warning: 'No warning',\n    progress: 50\n  },\n  {\n    id: '2',\n    vehicle: 163825,\n    startingRoute: 'Tokyo 23, Japan',\n    endingRoute: 'Budapest, Hungary',\n    warning: 'Fuel problems',\n    progress: 75\n  },\n  {\n    id: '3',\n    vehicle: 182624,\n    startingRoute: 'New York City, USA',\n    endingRoute: 'Kyoto, Japan',\n    warning: 'Temperature not optimal',\n    progress: 25\n  },\n  {\n    id: '4',\n    vehicle: 27568,\n    startingRoute: 'Berlin, Germany',\n    endingRoute: 'Cape Town, South Africa',\n    warning: 'Ecu not responding',\n    progress: 50\n  },\n  {\n    id: '5',\n    vehicle: 300168,\n    startingRoute: 'Sydney, Australia',\n    endingRoute: 'Buenos Aires, Argentina',\n    warning: 'Oil leakage',\n    progress: 25\n  },\n  {\n    id: '6',\n    vehicle: 321659,\n    startingRoute: 'Rio de Janeiro, Brazil',\n    endingRoute: 'Toronto, Canada',\n    warning: 'Fuel problems',\n    progress: 75\n  },\n  {\n    id: '7',\n    vehicle: 445782,\n    startingRoute: 'London, UK',\n    endingRoute: 'Mumbai, India',\n    warning: 'No warning',\n    progress: 90\n  },\n  {\n    id: '8',\n    vehicle: 589634,\n    startingRoute: 'Los Angeles, USA',\n    endingRoute: 'Moscow, Russia',\n    warning: 'Temperature not optimal',\n    progress: 40\n  },\n  {\n    id: '9',\n    vehicle: 672154,\n    startingRoute: 'Dubai, UAE',\n    endingRoute: 'Singapore',\n    warning: 'Oil leakage',\n    progress: 60\n  },\n  {\n    id: '10',\n    vehicle: 758932,\n    startingRoute: 'Madrid, Spain',\n    endingRoute: 'Bangkok, Thailand',\n    warning: 'Fuel problems',\n    progress: 85\n  },\n  {\n    id: '11',\n    vehicle: 823456,\n    startingRoute: 'Rome, Italy',\n    endingRoute: 'Cairo, Egypt',\n    warning: 'No warning',\n    progress: 30\n  },\n  {\n    id: '12',\n    vehicle: 934567,\n    startingRoute: 'Amsterdam, Netherlands',\n    endingRoute: 'Seoul, South Korea',\n    warning: 'Ecu not responding',\n    progress: 55\n  },\n  {\n    id: '13',\n    vehicle: 105672,\n    startingRoute: 'Stockholm, Sweden',\n    endingRoute: 'Jakarta, Indonesia',\n    warning: 'Temperature not optimal',\n    progress: 70\n  },\n  {\n    id: '14',\n    vehicle: 218934,\n    startingRoute: 'Vienna, Austria',\n    endingRoute: 'Manila, Philippines',\n    warning: 'Oil leakage',\n    progress: 45\n  },\n  {\n    id: '15',\n    vehicle: 345789,\n    startingRoute: 'Brussels, Belgium',\n    endingRoute: 'Lagos, Nigeria',\n    warning: 'Fuel problems',\n    progress: 65\n  },\n  {\n    id: '16',\n    vehicle: 467123,\n    startingRoute: 'Zurich, Switzerland',\n    endingRoute: 'Nairobi, Kenya',\n    warning: 'No warning',\n    progress: 80\n  },\n  {\n    id: '17',\n    vehicle: 578245,\n    startingRoute: 'Copenhagen, Denmark',\n    endingRoute: 'Casablanca, Morocco',\n    warning: 'Temperature not optimal',\n    progress: 35\n  },\n  {\n    id: '18',\n    vehicle: 689456,\n    startingRoute: 'Helsinki, Finland',\n    endingRoute: 'Addis Ababa, Ethiopia',\n    warning: 'Ecu not responding',\n    progress: 95\n  },\n  {\n    id: '19',\n    vehicle: 790567,\n    startingRoute: 'Oslo, Norway',\n    endingRoute: 'Algiers, Algeria',\n    warning: 'Oil leakage',\n    progress: 20\n  },\n  {\n    id: '20',\n    vehicle: 812345,\n    startingRoute: 'Warsaw, Poland',\n    endingRoute: 'Tunis, Tunisia',\n    warning: 'Fuel problems',\n    progress: 88\n  },\n  {\n    id: '21',\n    vehicle: 923456,\n    startingRoute: 'Prague, Czech Republic',\n    endingRoute: 'Rabat, Morocco',\n    warning: 'No warning',\n    progress: 42\n  },\n  {\n    id: '22',\n    vehicle: 134567,\n    startingRoute: 'Budapest, Hungary',\n    endingRoute: 'Dakar, Senegal',\n    warning: 'Temperature not optimal',\n    progress: 67\n  },\n  {\n    id: '23',\n    vehicle: 245678,\n    startingRoute: 'Bucharest, Romania',\n    endingRoute: 'Accra, Ghana',\n    warning: 'Oil leakage',\n    progress: 52\n  },\n  {\n    id: '24',\n    vehicle: 356789,\n    startingRoute: 'Sofia, Bulgaria',\n    endingRoute: 'Abidjan, Ivory Coast',\n    warning: 'Ecu not responding',\n    progress: 78\n  },\n  {\n    id: '25',\n    vehicle: 467890,\n    startingRoute: 'Athens, Greece',\n    endingRoute: 'Bamako, Mali',\n    warning: 'Fuel problems',\n    progress: 33\n  }\n]\n\nconst DataTablePreview = () => {\n  return (\n    <div className='py-8 sm:py-16 lg:py-24'>\n      <div className='mx-auto max-w-7xl px-4 sm:px-6 lg:px-8'>\n        <Card className='mx-auto w-full max-w-275 py-0'>\n          <VehicleRouteDatatable data={vehicleData} />\n        </Card>\n      </div>\n    </div>\n  )\n}\n\nexport default DataTablePreview\n",
      "type": "registry:page",
      "target": "app/datatable-component-03/page.tsx"
    },
    {
      "path": "src/registry/new-york/components/blocks/datatable-vehicle-route.tsx",
      "content": "'use client'\n\nimport { useState } from 'react'\n\nimport {\n  ChevronDownIcon,\n  ChevronRightIcon,\n  ChevronLeftIcon,\n  ChevronUpIcon,\n  TruckIcon,\n  EllipsisVerticalIcon\n} from 'lucide-react'\n\nimport type { ColumnDef, PaginationState } from '@tanstack/react-table'\nimport {\n  flexRender,\n  getCoreRowModel,\n  getFacetedMinMaxValues,\n  getFacetedRowModel,\n  getPaginationRowModel,\n  getFacetedUniqueValues,\n  getSortedRowModel,\n  useReactTable\n} from '@tanstack/react-table'\n\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger\n} from '@/components/ui/dropdown-menu'\nimport { Pagination, PaginationContent, PaginationEllipsis, PaginationItem } from '@/components/ui/pagination'\nimport { Progress } from '@/components/ui/progress'\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\n\nimport { usePagination } from '@/hooks/use-pagination'\n\nimport { cn } from '@/lib/utils'\n\nconst listItems = ['Share', 'Update', 'Refresh']\n\nexport type Item = {\n  id: string\n  vehicle: number\n  startingRoute: string\n  endingRoute: string\n  warning: 'No warning' | 'Fuel problems' | 'Temperature not optimal' | 'Ecu not responding' | 'Oil leakage'\n  progress: number\n  progressColor?: string\n}\n\nconst columns: ColumnDef<Item>[] = [\n  {\n    id: 'select',\n    header: ({ table }) => (\n      <Checkbox\n        checked={table.getIsAllPageRowsSelected() || (table.getIsSomePageRowsSelected() && 'indeterminate')}\n        onCheckedChange={value => table.toggleAllRowsSelected(!!value)}\n        aria-label='Select all'\n      />\n    ),\n    cell: ({ row }) => (\n      <Checkbox\n        checked={row.getIsSelected()}\n        onCheckedChange={value => row.toggleSelected(!!value)}\n        aria-label='Select row'\n      />\n    ),\n    size: 50\n  },\n  {\n    header: 'Vehicle',\n    accessorKey: 'vehicle',\n    cell: ({ row }) => (\n      <div className='flex items-center gap-2'>\n        <Avatar className='size-8'>\n          <AvatarFallback className='bg-primary/10 text-primary'>\n            <TruckIcon className='size-4' />\n          </AvatarFallback>\n        </Avatar>\n        <span>VOL-{row.getValue('vehicle')}</span>\n      </div>\n    )\n  },\n  {\n    header: 'Starting route',\n    accessorKey: 'startingRoute',\n    cell: ({ row }) => <span className='text-muted-foreground'>{row.getValue('startingRoute')}</span>\n  },\n  {\n    header: 'Ending route',\n    accessorKey: 'endingRoute',\n    cell: ({ row }) => <span className='text-muted-foreground'>{row.getValue('endingRoute')}</span>\n  },\n  {\n    header: 'Warnings',\n    accessorKey: 'warning',\n    cell: ({ row }) => <Badge className='bg-primary/10 text-primary px-1.5 capitalize'>{row.getValue('warning')}</Badge>\n  },\n  {\n    header: 'Progress',\n    accessorKey: 'progress',\n    cell: ({ row }) => (\n      <div className='flex items-center gap-3'>\n        <Progress value={row.getValue('progress')} className={cn('w-43', row.original.progressColor)} />\n        <span>{row.getValue('progress')}%</span>\n      </div>\n    )\n  }\n]\n\nconst VehicleRouteDatatable = ({ data }: { data: Item[] }) => {\n  const pageSize = 5\n\n  const [pagination, setPagination] = useState<PaginationState>({\n    pageIndex: 0,\n    pageSize: pageSize\n  })\n\n  const table = useReactTable({\n    data,\n    columns,\n    state: {\n      pagination\n    },\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFacetedRowModel: getFacetedRowModel(),\n    getFacetedUniqueValues: getFacetedUniqueValues(),\n    getFacetedMinMaxValues: getFacetedMinMaxValues(),\n    enableSortingRemoval: false,\n    getPaginationRowModel: getPaginationRowModel(),\n    onPaginationChange: setPagination\n  })\n\n  const { pages, showLeftEllipsis, showRightEllipsis } = usePagination({\n    currentPage: table.getState().pagination.pageIndex + 1,\n    totalPages: table.getPageCount(),\n    paginationItemsToDisplay: 2\n  })\n\n  return (\n    <div className='w-full'>\n      <div className='border-b'>\n        <div className='flex min-h-17 flex-wrap items-center justify-between gap-3 px-6 py-3'>\n          <span className='font-medium'>On route vehicle</span>\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant='ghost' className='text-muted-foreground size-8 rounded-full'>\n                <EllipsisVerticalIcon />\n                <span className='sr-only'>Menu</span>\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align='end'>\n              <DropdownMenuGroup>\n                {listItems.map((item, index) => (\n                  <DropdownMenuItem key={index}>{item}</DropdownMenuItem>\n                ))}\n              </DropdownMenuGroup>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n        <Table>\n          <TableHeader>\n            {table.getHeaderGroups().map(headerGroup => (\n              <TableRow key={headerGroup.id} className='h-14 border-t'>\n                {headerGroup.headers.map(header => {\n                  return (\n                    <TableHead\n                      key={header.id}\n                      style={{ width: `${header.getSize()}px` }}\n                      className='text-muted-foreground first:pl-4 last:px-4'\n                    >\n                      {header.isPlaceholder ? null : header.column.getCanSort() ? (\n                        <div\n                          className={cn(\n                            header.column.getCanSort() &&\n                              'flex h-full cursor-pointer items-center justify-between gap-2 select-none'\n                          )}\n                          onClick={header.column.getToggleSortingHandler()}\n                          onKeyDown={e => {\n                            if (header.column.getCanSort() && (e.key === 'Enter' || e.key === ' ')) {\n                              e.preventDefault()\n                              header.column.getToggleSortingHandler()?.(e)\n                            }\n                          }}\n                          tabIndex={header.column.getCanSort() ? 0 : undefined}\n                        >\n                          {flexRender(header.column.columnDef.header, header.getContext())}\n                          {{\n                            asc: <ChevronUpIcon className='shrink-0 opacity-60' size={16} aria-hidden='true' />,\n                            desc: <ChevronDownIcon className='shrink-0 opacity-60' size={16} aria-hidden='true' />\n                          }[header.column.getIsSorted() as string] ?? null}\n                        </div>\n                      ) : (\n                        flexRender(header.column.columnDef.header, header.getContext())\n                      )}\n                    </TableHead>\n                  )\n                })}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {table.getRowModel().rows?.length ? (\n              table.getRowModel().rows.map(row => (\n                <TableRow key={row.id} data-state={row.getIsSelected() && 'selected'}>\n                  {row.getVisibleCells().map(cell => (\n                    <TableCell key={cell.id} className='h-17 first:pl-4 last:px-4'>\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              ))\n            ) : (\n              <TableRow>\n                <TableCell colSpan={columns.length} className='h-24 text-center'>\n                  No results.\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n\n      <div className='flex items-center justify-between gap-3 px-6 py-4 max-sm:flex-col'>\n        <p className='text-muted-foreground text-sm whitespace-nowrap' aria-live='polite'>\n          Showing{' '}\n          <span>\n            {table.getState().pagination.pageIndex * table.getState().pagination.pageSize + 1} to{' '}\n            {Math.min(\n              Math.max(\n                table.getState().pagination.pageIndex * table.getState().pagination.pageSize +\n                  table.getState().pagination.pageSize,\n                0\n              ),\n              table.getRowCount()\n            )}\n          </span>{' '}\n          of <span>{table.getRowCount().toString()} entries</span>\n        </p>\n\n        <div>\n          <Pagination>\n            <PaginationContent>\n              <PaginationItem>\n                <Button\n                  className='disabled:pointer-events-none disabled:opacity-50'\n                  variant={'ghost'}\n                  onClick={() => table.previousPage()}\n                  disabled={!table.getCanPreviousPage()}\n                  aria-label='Go to previous page'\n                >\n                  <ChevronLeftIcon size={16} aria-hidden='true' />\n                  Previous\n                </Button>\n              </PaginationItem>\n\n              {showLeftEllipsis && (\n                <PaginationItem>\n                  <PaginationEllipsis />\n                </PaginationItem>\n              )}\n\n              {pages.map(page => {\n                const isActive = page === table.getState().pagination.pageIndex + 1\n\n                return (\n                  <PaginationItem key={page}>\n                    <Button\n                      size='icon'\n                      className={`${!isActive && 'bg-primary/10 text-primary hover:bg-primary/20 focus-visible:ring-primary/20 dark:focus-visible:ring-primary/40'}`}\n                      onClick={() => table.setPageIndex(page - 1)}\n                      aria-current={isActive ? 'page' : undefined}\n                    >\n                      {page}\n                    </Button>\n                  </PaginationItem>\n                )\n              })}\n\n              {showRightEllipsis && (\n                <PaginationItem>\n                  <PaginationEllipsis />\n                </PaginationItem>\n              )}\n\n              <PaginationItem>\n                <Button\n                  className='disabled:pointer-events-none disabled:opacity-50'\n                  variant={'ghost'}\n                  onClick={() => table.nextPage()}\n                  disabled={!table.getCanNextPage()}\n                  aria-label='Go to next page'\n                >\n                  Next\n                  <ChevronRightIcon size={16} aria-hidden='true' />\n                </Button>\n              </PaginationItem>\n            </PaginationContent>\n          </Pagination>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default VehicleRouteDatatable\n",
      "type": "registry:component",
      "target": "components/shadcn-studio/blocks/datatable-vehicle-route.tsx"
    },
    {
      "path": "src/registry/new-york/hooks/use-pagination.ts",
      "content": "type UsePaginationProps = {\n  currentPage: number\n  totalPages: number\n  paginationItemsToDisplay: number\n}\n\ntype UsePaginationReturn = {\n  pages: number[]\n  showLeftEllipsis: boolean\n  showRightEllipsis: boolean\n}\n\nexport function usePagination({\n  currentPage,\n  totalPages,\n  paginationItemsToDisplay\n}: UsePaginationProps): UsePaginationReturn {\n  function calculatePaginationRange(): number[] {\n    if (totalPages <= paginationItemsToDisplay) {\n      return Array.from({ length: totalPages }, (_, i) => i + 1)\n    }\n\n    const halfDisplay = Math.floor(paginationItemsToDisplay / 2)\n\n    const initialRange = {\n      start: currentPage - halfDisplay,\n      end: currentPage + halfDisplay\n    }\n\n    const adjustedRange = {\n      start: Math.max(1, initialRange.start),\n      end: Math.min(totalPages, initialRange.end)\n    }\n\n    if (adjustedRange.start === 1) {\n      adjustedRange.end = Math.min(paginationItemsToDisplay, totalPages)\n    }\n\n    if (adjustedRange.end === totalPages) {\n      adjustedRange.start = Math.max(1, totalPages - paginationItemsToDisplay + 1)\n    }\n\n    return Array.from({ length: adjustedRange.end - adjustedRange.start + 1 }, (_, i) => adjustedRange.start + i)\n  }\n\n  const pages = calculatePaginationRange()\n\n  // Determine ellipsis display based on the actual pages shown\n  const showLeftEllipsis = pages.length > 0 && pages[0] > 1 && pages[0] > 2\n\n  const showRightEllipsis =\n    pages.length > 0 && pages[pages.length - 1] < totalPages && pages[pages.length - 1] < totalPages - 1\n\n  return {\n    pages,\n    showLeftEllipsis,\n    showRightEllipsis\n  }\n}\n",
      "type": "registry:hook",
      "target": "hooks/use-pagination.ts"
    }
  ]
}