{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "offer-modal-05",
  "type": "registry:block",
  "description": "Countdown timer modal with live days/hours/minutes/seconds display, product image showcase, copy-to-clipboard coupon code, and \"remind me later\" option",
  "registryDependencies": [
    "button",
    "dialog"
  ],
  "files": [
    {
      "path": "src/registry/new-york/blocks/ecommerce/offer-modal/offer-modal-05/page.tsx",
      "content": "import OfferModal from '@/components/shadcn-studio/blocks/offer-modal-05/offer-modal-05'\nimport { Button } from '@/components/ui/button'\n\nconst OfferModalPage = () => {\n  return (\n    <div className='flex h-dvh items-start justify-center p-8'>\n      <OfferModal defaultOpen trigger={<Button variant='outline'>Offer Modal</Button>} />\n    </div>\n  )\n}\n\nexport default OfferModalPage\n",
      "type": "registry:page",
      "target": "app/offer-modal-05/page.tsx"
    },
    {
      "path": "src/registry/new-york/components/blocks/offer-modal-05/offer-modal-05.tsx",
      "content": "'use client'\n\nimport { useState, useEffect, type ReactNode } from 'react'\n\nimport { Button } from '@/components/ui/button'\nimport { Dialog, DialogContent, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\n\ntype OfferModalProps = {\n  trigger?: ReactNode\n  defaultOpen?: boolean\n}\n\nconst OfferModal05 = ({ trigger, defaultOpen }: OfferModalProps) => {\n  const [isOpen, setIsOpen] = useState(defaultOpen || false)\n  const [copied, setCopied] = useState(false)\n\n  const [timeLeft, setTimeLeft] = useState({\n    days: 2,\n    hours: 18,\n    minutes: 48,\n    seconds: 31\n  })\n\n  // Calculate total seconds for easier countdown management\n  const totalSeconds = timeLeft.days * 86400 + timeLeft.hours * 3600 + timeLeft.minutes * 60 + timeLeft.seconds\n\n  // Countdown timer effect using the same pattern as OTP component\n  useEffect(() => {\n    if (totalSeconds > 0) {\n      const timer = setTimeout(() => {\n        setTimeLeft(prev => {\n          const currentTotal = prev.days * 86400 + prev.hours * 3600 + prev.minutes * 60 + prev.seconds\n\n          if (currentTotal <= 1) {\n            return { days: 0, hours: 0, minutes: 0, seconds: 0 }\n          }\n\n          const newTotal = currentTotal - 1\n          const days = Math.floor(newTotal / 86400)\n          const hours = Math.floor((newTotal % 86400) / 3600)\n          const minutes = Math.floor((newTotal % 3600) / 60)\n          const seconds = newTotal % 60\n\n          return { days, hours, minutes, seconds }\n        })\n      }, 1000)\n\n      return () => clearTimeout(timer)\n    }\n  }, [totalSeconds])\n\n  const couponCode = 'COUNTDOWN20'\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(couponCode)\n      setCopied(true)\n      setTimeout(() => setCopied(false), 2000)\n    } catch (err) {\n      console.error('Failed to copy text: ', err)\n    }\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogTrigger asChild onClick={() => setIsOpen(true)}>\n        {trigger}\n      </DialogTrigger>\n      <DialogContent className='[&_[data-slot=\"dialog-close\"]]:bg-primary/10 flex w-full flex-col items-center justify-center gap-6 text-center lg:max-w-lg [&_[data-slot=\"dialog-close\"]]:flex [&_[data-slot=\"dialog-close\"]]:size-7 [&_[data-slot=\"dialog-close\"]]:items-center [&_[data-slot=\"dialog-close\"]]:justify-center [&_[data-slot=\"dialog-close\"]]:rounded-full'>\n        <DialogTitle className='text-3xl font-semibold'>\n          Get 20% off <br /> Before time runs out!\n        </DialogTitle>\n\n        {/* Countdown Timer */}\n        <div className='grid w-full grid-cols-4 justify-between gap-5'>\n          <div className='flex flex-col items-center gap-1 px-4'>\n            <h4 className='text-3xl font-medium'>{timeLeft.days}</h4>\n            <p>DAYS</p>\n          </div>\n          <div className='flex flex-col items-center gap-1 px-4'>\n            <h4 className='text-3xl font-medium'>{timeLeft.hours}</h4>\n            <p>HOURS</p>\n          </div>\n          <div className='flex flex-col items-center gap-1 px-4'>\n            <h4 className='text-3xl font-medium'>{timeLeft.minutes}</h4>\n            <p>MIN</p>\n          </div>\n          <div className='flex flex-col items-center gap-1 px-4'>\n            <h4 className='text-3xl font-medium'>{timeLeft.seconds}</h4>\n            <p>SEC</p>\n          </div>\n        </div>\n\n        {/* Product Image */}\n        <div className='flex h-48 w-full items-center justify-center rounded-sm bg-sky-300'>\n          <img\n            src='https://cdn.shadcnstudio.com/ss-assets/blocks/ecommerce/offer-modal/image-4.png'\n            alt='Offer Modal 5'\n            className='h-38.5 w-auto object-cover drop-shadow-2xl'\n          />\n        </div>\n\n        <p className='text-muted-foreground underline'>Use this code at checkout:</p>\n\n        {/* Coupon Code Section */}\n        <div className='flex w-full flex-col gap-2'>\n          <Button\n            variant='outline'\n            size='lg'\n            className='border-2 border-dashed text-lg tracking-wider hover:bg-transparent'\n          >\n            {couponCode}\n          </Button>\n          <Button size='lg' onClick={handleCopy} className='w-full'>\n            {copied ? 'Copied!' : 'Copy Code'}\n          </Button>\n        </div>\n\n        <a href='#' className='text-muted-foreground hover:text-primary underline'>\n          Remind me later!\n        </a>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nexport default OfferModal05\n",
      "type": "registry:component",
      "target": "components/shadcn-studio/blocks/offer-modal-05/offer-modal-05.tsx"
    }
  ]
}