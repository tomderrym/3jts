{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "datatable-component-01",
  "type": "registry:block",
  "description": "Financial transaction datatable with pagination controls, displaying customer avatars, transaction amounts in USD currency format, payment status badges, payment method icons, and row action dropdown menus",
  "dependencies": [
    "@tanstack/react-table",
    "lucide-react"
  ],
  "registryDependencies": [
    "avatar",
    "badge",
    "button",
    "card",
    "dropdown-menu",
    "pagination",
    "table"
  ],
  "files": [
    {
      "path": "src/registry/new-york/blocks/datatable/datatable-component/datatable-component-01/page.tsx",
      "content": "import { Card } from '@/components/ui/card'\n\nimport TransactionDatatable, { type Item } from '@/components/shadcn-studio/blocks/datatable-transaction'\n\nconst transactionData: Item[] = [\n  {\n    id: '1',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-1.png',\n    avatarFallback: 'JA',\n    name: 'Jack Alfredo',\n    amount: 316.0,\n    status: 'paid',\n    email: 'jack@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '2',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-2.png',\n    avatarFallback: 'MG',\n    name: 'Maria Gonzalez',\n    amount: 253.4,\n    status: 'pending',\n    email: 'maria.g@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '3',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-3.png',\n    avatarFallback: 'JD',\n    name: 'John Doe',\n    amount: 852.0,\n    status: 'paid',\n    email: 'john.doe@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '4',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-4.png',\n    avatarFallback: 'EC',\n    name: 'Emily Carter',\n    amount: 889.0,\n    status: 'pending',\n    email: 'emily.carter@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '5',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-5.png',\n    avatarFallback: 'DL',\n    name: 'David Lee',\n    amount: 723.16,\n    status: 'paid',\n    email: 'david.lee@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '6',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-6.png',\n    avatarFallback: 'SP',\n    name: 'Sophia Patel',\n    amount: 612.0,\n    status: 'failed',\n    email: 'sophia.patel@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '7',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-7.png',\n    avatarFallback: 'RW',\n    name: 'Robert Wilson',\n    amount: 445.25,\n    status: 'paid',\n    email: 'robert.wilson@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '8',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-8.png',\n    avatarFallback: 'LM',\n    name: 'Lisa Martinez',\n    amount: 297.8,\n    status: 'processing',\n    email: 'lisa.martinez@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '9',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-9.png',\n    avatarFallback: 'MT',\n    name: 'Michael Thompson',\n    amount: 756.9,\n    status: 'paid',\n    email: 'michael.thompson@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '10',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-10.png',\n    avatarFallback: 'AJ',\n    name: 'Amanda Johnson',\n    amount: 189.5,\n    status: 'pending',\n    email: 'amanda.johnson@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '11',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-11.png',\n    avatarFallback: 'KB',\n    name: 'Kevin Brown',\n    amount: 1024.75,\n    status: 'paid',\n    email: 'kevin.brown@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '12',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-12.png',\n    avatarFallback: 'SD',\n    name: 'Sarah Davis',\n    amount: 367.2,\n    status: 'failed',\n    email: 'sarah.davis@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '13',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-13.png',\n    avatarFallback: 'CG',\n    name: 'Christopher Garcia',\n    amount: 598.45,\n    status: 'processing',\n    email: 'christopher.garcia@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '14',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-14.png',\n    avatarFallback: 'JR',\n    name: 'Jennifer Rodriguez',\n    amount: 821.3,\n    status: 'paid',\n    email: 'jennifer.rodriguez@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '15',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-15.png',\n    avatarFallback: 'DM',\n    name: 'Daniel Miller',\n    amount: 156.75,\n    status: 'pending',\n    email: 'daniel.miller@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '16',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-16.png',\n    avatarFallback: 'NW',\n    name: 'Nicole White',\n    amount: 934.1,\n    status: 'paid',\n    email: 'nicole.white@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '17',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-17.png',\n    avatarFallback: 'AL',\n    name: 'Anthony Lopez',\n    amount: 412.85,\n    status: 'failed',\n    email: 'anthony.lopez@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '18',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-18.png',\n    avatarFallback: 'MH',\n    name: 'Michelle Harris',\n    amount: 675.5,\n    status: 'processing',\n    email: 'michelle.harris@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '19',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-19.png',\n    avatarFallback: 'JC',\n    name: 'James Clark',\n    amount: 289.95,\n    status: 'paid',\n    email: 'james.clark@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '20',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-20.png',\n    avatarFallback: 'RL',\n    name: 'Rachel Lewis',\n    amount: 1156.25,\n    status: 'pending',\n    email: 'rachel.lewis@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '21',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-21.png',\n    avatarFallback: 'TY',\n    name: 'Thomas Young',\n    amount: 543.6,\n    status: 'paid',\n    email: 'thomas.young@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '22',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-22.png',\n    avatarFallback: 'SB',\n    name: 'Stephanie Brown',\n    amount: 789.3,\n    status: 'processing',\n    email: 'stephanie.brown@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '23',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-23.png',\n    avatarFallback: 'BM',\n    name: 'Brandon Moore',\n    amount: 425.75,\n    status: 'failed',\n    email: 'brandon.moore@shadcnstudio.com',\n    paidBy: 'visa'\n  },\n  {\n    id: '24',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-24.png',\n    avatarFallback: 'KT',\n    name: 'Kelly Taylor',\n    amount: 1203.5,\n    status: 'paid',\n    email: 'kelly.taylor@shadcnstudio.com',\n    paidBy: 'mastercard'\n  },\n  {\n    id: '25',\n    avatar: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-25.png',\n    avatarFallback: 'MA',\n    name: 'Mark Anderson',\n    amount: 356.2,\n    status: 'pending',\n    email: 'mark.anderson@shadcnstudio.com',\n    paidBy: 'visa'\n  }\n]\n\nconst DataTablePreview = () => {\n  return (\n    <div className='py-8 sm:py-16 lg:py-24'>\n      <div className='mx-auto max-w-7xl px-4 sm:px-6 lg:px-8'>\n        <Card className='mx-auto w-full max-w-175 py-0'>\n          <TransactionDatatable data={transactionData} />\n        </Card>\n      </div>\n    </div>\n  )\n}\n\nexport default DataTablePreview\n",
      "type": "registry:page",
      "target": "app/datatable-component-01/page.tsx"
    },
    {
      "path": "src/registry/new-york/components/blocks/datatable-transaction.tsx",
      "content": "'use client'\n\nimport { useState } from 'react'\n\nimport { ChevronLeftIcon, ChevronRightIcon, EllipsisVerticalIcon } from 'lucide-react'\n\nimport type { ColumnDef, PaginationState } from '@tanstack/react-table'\nimport {\n  flexRender,\n  getCoreRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  getSortedRowModel,\n  useReactTable\n} from '@tanstack/react-table'\n\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger\n} from '@/components/ui/dropdown-menu'\nimport { Pagination, PaginationContent, PaginationEllipsis, PaginationItem } from '@/components/ui/pagination'\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\n\nimport { usePagination } from '@/hooks/use-pagination'\n\nexport type Item = {\n  id: string\n  avatar: string\n  avatarFallback: string\n  name: string\n  email: string\n  amount: number\n  status: 'pending' | 'processing' | 'paid' | 'failed'\n  paidBy: 'mastercard' | 'visa'\n}\n\nexport const columns: ColumnDef<Item>[] = [\n  {\n    accessorKey: 'name',\n    header: 'Customer',\n    cell: ({ row }) => (\n      <div className='flex items-center gap-2'>\n        <Avatar className='size-9'>\n          <AvatarImage src={row.original.avatar} alt='Hallie Richards' />\n          <AvatarFallback className='text-xs'>{row.original.avatarFallback}</AvatarFallback>\n        </Avatar>\n        <div className='flex flex-col text-sm'>\n          <span className='text-card-foreground font-medium'>{row.getValue('name')}</span>\n          <span className='text-muted-foreground'>{row.original.email}</span>\n        </div>\n      </div>\n    )\n  },\n  {\n    accessorKey: 'amount',\n    header: 'Amount',\n    cell: ({ row }) => {\n      const amount = parseFloat(row.getValue('amount'))\n\n      const formatted = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD'\n      }).format(amount)\n\n      return <span>{formatted}</span>\n    }\n  },\n  {\n    accessorKey: 'status',\n    header: 'Status',\n    cell: ({ row }) => <Badge className='bg-primary/10 text-primary px-1.5 capitalize'>{row.getValue('status')}</Badge>\n  },\n  {\n    accessorKey: 'paidBy',\n    header: () => <span className='w-fit'>Paid by</span>,\n    cell: ({ row }) => (\n      <img\n        src={\n          row.getValue('paidBy') === 'mastercard'\n            ? 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-1.png'\n            : 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-2.png'\n        }\n        alt='Payment platform'\n        className='w-10.5'\n      />\n    )\n  },\n  {\n    id: 'actions',\n    header: () => 'Actions',\n    cell: () => <RowActions />,\n    size: 60,\n    enableHiding: false\n  }\n]\n\nconst TransactionDatatable = ({ data }: { data: Item[] }) => {\n  const pageSize = 5\n\n  const [pagination, setPagination] = useState<PaginationState>({\n    pageIndex: 0,\n    pageSize: pageSize\n  })\n\n  const table = useReactTable({\n    data,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    onPaginationChange: setPagination,\n    state: {\n      pagination\n    }\n  })\n\n  const { pages, showLeftEllipsis, showRightEllipsis } = usePagination({\n    currentPage: table.getState().pagination.pageIndex + 1,\n    totalPages: table.getPageCount(),\n    paginationItemsToDisplay: 2\n  })\n\n  return (\n    <div className='w-full'>\n      <div className='border-b'>\n        <Table>\n          <TableHeader>\n            {table.getHeaderGroups().map(headerGroup => (\n              <TableRow key={headerGroup.id}>\n                {headerGroup.headers.map(header => {\n                  return (\n                    <TableHead key={header.id} className='text-muted-foreground h-14 first:pl-4'>\n                      {header.isPlaceholder ? null : flexRender(header.column.columnDef.header, header.getContext())}\n                    </TableHead>\n                  )\n                })}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {table.getRowModel().rows?.length ? (\n              table.getRowModel().rows.map(row => (\n                <TableRow key={row.id} data-state={row.getIsSelected() && 'selected'}>\n                  {row.getVisibleCells().map(cell => (\n                    <TableCell key={cell.id} className='first:pl-4'>\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              ))\n            ) : (\n              <TableRow>\n                <TableCell colSpan={columns.length} className='h-24 text-center'>\n                  No results.\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n\n      <div className='flex items-center justify-between gap-3 px-6 py-4 max-sm:flex-col md:max-lg:flex-col'>\n        <p className='text-muted-foreground text-sm whitespace-nowrap' aria-live='polite'>\n          Showing{' '}\n          <span>\n            {table.getState().pagination.pageIndex * table.getState().pagination.pageSize + 1} to{' '}\n            {Math.min(\n              Math.max(\n                table.getState().pagination.pageIndex * table.getState().pagination.pageSize +\n                  table.getState().pagination.pageSize,\n                0\n              ),\n              table.getRowCount()\n            )}\n          </span>{' '}\n          of <span>{table.getRowCount().toString()} entries</span>\n        </p>\n\n        <div>\n          <Pagination>\n            <PaginationContent>\n              <PaginationItem>\n                <Button\n                  className='disabled:pointer-events-none disabled:opacity-50'\n                  variant={'ghost'}\n                  onClick={() => table.previousPage()}\n                  disabled={!table.getCanPreviousPage()}\n                  aria-label='Go to previous page'\n                >\n                  <ChevronLeftIcon size={16} aria-hidden='true' />\n                  Previous\n                </Button>\n              </PaginationItem>\n\n              {showLeftEllipsis && (\n                <PaginationItem>\n                  <PaginationEllipsis />\n                </PaginationItem>\n              )}\n\n              {pages.map(page => {\n                const isActive = page === table.getState().pagination.pageIndex + 1\n\n                return (\n                  <PaginationItem key={page}>\n                    <Button\n                      size='icon'\n                      className={`${!isActive && 'bg-primary/10 text-primary hover:bg-primary/20 focus-visible:ring-primary/20 dark:focus-visible:ring-primary/40'}`}\n                      onClick={() => table.setPageIndex(page - 1)}\n                      aria-current={isActive ? 'page' : undefined}\n                    >\n                      {page}\n                    </Button>\n                  </PaginationItem>\n                )\n              })}\n\n              {showRightEllipsis && (\n                <PaginationItem>\n                  <PaginationEllipsis />\n                </PaginationItem>\n              )}\n\n              <PaginationItem>\n                <Button\n                  className='disabled:pointer-events-none disabled:opacity-50'\n                  variant={'ghost'}\n                  onClick={() => table.nextPage()}\n                  disabled={!table.getCanNextPage()}\n                  aria-label='Go to next page'\n                >\n                  Next\n                  <ChevronRightIcon size={16} aria-hidden='true' />\n                </Button>\n              </PaginationItem>\n            </PaginationContent>\n          </Pagination>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default TransactionDatatable\n\nfunction RowActions() {\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <div className='flex'>\n          <Button size='icon' variant='ghost' className='rounded-full p-2' aria-label='Edit item'>\n            <EllipsisVerticalIcon className='size-5' aria-hidden='true' />\n          </Button>\n        </div>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align='end'>\n        <DropdownMenuGroup>\n          <DropdownMenuItem>\n            <span>Edit</span>\n          </DropdownMenuItem>\n          <DropdownMenuItem>\n            <span>Duplicate</span>\n          </DropdownMenuItem>\n          <DropdownMenuItem variant='destructive'>\n            <span>Delete</span>\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/shadcn-studio/blocks/datatable-transaction.tsx"
    },
    {
      "path": "src/registry/new-york/hooks/use-pagination.ts",
      "content": "type UsePaginationProps = {\n  currentPage: number\n  totalPages: number\n  paginationItemsToDisplay: number\n}\n\ntype UsePaginationReturn = {\n  pages: number[]\n  showLeftEllipsis: boolean\n  showRightEllipsis: boolean\n}\n\nexport function usePagination({\n  currentPage,\n  totalPages,\n  paginationItemsToDisplay\n}: UsePaginationProps): UsePaginationReturn {\n  function calculatePaginationRange(): number[] {\n    if (totalPages <= paginationItemsToDisplay) {\n      return Array.from({ length: totalPages }, (_, i) => i + 1)\n    }\n\n    const halfDisplay = Math.floor(paginationItemsToDisplay / 2)\n\n    const initialRange = {\n      start: currentPage - halfDisplay,\n      end: currentPage + halfDisplay\n    }\n\n    const adjustedRange = {\n      start: Math.max(1, initialRange.start),\n      end: Math.min(totalPages, initialRange.end)\n    }\n\n    if (adjustedRange.start === 1) {\n      adjustedRange.end = Math.min(paginationItemsToDisplay, totalPages)\n    }\n\n    if (adjustedRange.end === totalPages) {\n      adjustedRange.start = Math.max(1, totalPages - paginationItemsToDisplay + 1)\n    }\n\n    return Array.from({ length: adjustedRange.end - adjustedRange.start + 1 }, (_, i) => adjustedRange.start + i)\n  }\n\n  const pages = calculatePaginationRange()\n\n  // Determine ellipsis display based on the actual pages shown\n  const showLeftEllipsis = pages.length > 0 && pages[0] > 1 && pages[0] > 2\n\n  const showRightEllipsis =\n    pages.length > 0 && pages[pages.length - 1] < totalPages && pages[pages.length - 1] < totalPages - 1\n\n  return {\n    pages,\n    showLeftEllipsis,\n    showRightEllipsis\n  }\n}\n",
      "type": "registry:hook",
      "target": "hooks/use-pagination.ts"
    }
  ]
}