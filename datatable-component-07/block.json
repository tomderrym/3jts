{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "datatable-component-07",
  "type": "registry:block",
  "description": "Advanced product analytics datatable with embedded Recharts line graphs, column sorting, search filtering, bulk selection checkboxes, export functionality (CSV/Excel/JSON), trend indicators, and comprehensive performance analysis",
  "dependencies": [
    "@tanstack/react-table",
    "lucide-react",
    "recharts",
    "papaparse",
    "xlsx"
  ],
  "registryDependencies": [
    "badge",
    "button",
    "card",
    "chart",
    "checkbox",
    "dropdown-menu",
    "input",
    "label",
    "pagination",
    "select",
    "table",
    "tooltip",
    "utils"
  ],
  "files": [
    {
      "path": "src/registry/new-york/blocks/datatable/datatable-component/datatable-component-07/page.tsx",
      "content": "import { Card } from '@/components/ui/card'\n\nimport ProductDatatable, { type Item } from '@/components/shadcn-studio/blocks/datatable-product-graph'\n\nconst productData: Item[] = [\n  {\n    id: '1',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-3.png',\n    product: 'Samsung galaxy s35',\n    brand: 'Samsung',\n    graphData: [\n      { month: 'January', sales: 0 },\n      { month: 'February', sales: 12 },\n      { month: 'March', sales: 5 },\n      { month: 'April', sales: 12 },\n      { month: 'May', sales: 8 },\n      { month: 'June', sales: 2 },\n      { month: 'July', sales: 8 },\n      { month: 'August', sales: 12 },\n      { month: 'September', sales: 3 },\n      { month: 'October', sales: 10 },\n      { month: 'November', sales: 2 },\n      { month: 'December', sales: 17 }\n    ],\n    price: 32,\n    orders: 132,\n    orderTrend: 'up',\n    sales: 23\n  },\n  {\n    id: '2',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-4.png',\n    product: 'Apple MacBook Pro',\n    brand: 'Apple',\n    graphData: [\n      { month: 'January', sales: 2 },\n      { month: 'February', sales: 12 },\n      { month: 'March', sales: 5 },\n      { month: 'April', sales: 12 },\n      { month: 'May', sales: 17 },\n      { month: 'June', sales: 8 },\n      { month: 'July', sales: 8 },\n      { month: 'August', sales: 15 },\n      { month: 'September', sales: 1 },\n      { month: 'October', sales: 6 },\n      { month: 'November', sales: 16 },\n      { month: 'December', sales: 10 }\n    ],\n    price: 280,\n    orders: 116,\n    orderTrend: 'up',\n    sales: 10\n  },\n  {\n    id: '3',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-5.png',\n    product: 'Sony WH-1000XM4',\n    brand: 'Sony',\n    graphData: [\n      { month: 'January', sales: 20 },\n      { month: 'February', sales: 3 },\n      { month: 'March', sales: 18 },\n      { month: 'April', sales: 4 },\n      { month: 'May', sales: 12 },\n      { month: 'June', sales: 3 },\n      { month: 'July', sales: 11 },\n      { month: 'August', sales: 4 },\n      { month: 'September', sales: 12 },\n      { month: 'October', sales: 3 },\n      { month: 'November', sales: 6 },\n      { month: 'December', sales: 4 }\n    ],\n    price: 120,\n    orders: 250,\n    orderTrend: 'down',\n    sales: -8\n  },\n  {\n    id: '4',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-6.png',\n    product: 'Dell XPS 13',\n    brand: 'Dell',\n    graphData: [\n      { month: 'January', sales: 20 },\n      { month: 'February', sales: 15 },\n      { month: 'March', sales: 18 },\n      { month: 'April', sales: 14 },\n      { month: 'May', sales: 10 },\n      { month: 'June', sales: 13 },\n      { month: 'July', sales: 6 },\n      { month: 'August', sales: 10 },\n      { month: 'September', sales: 7 },\n      { month: 'October', sales: 3 },\n      { month: 'November', sales: 5 },\n      { month: 'December', sales: 13 }\n    ],\n    price: 250,\n    orders: 23,\n    orderTrend: 'up',\n    sales: 12\n  },\n  {\n    id: '5',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-7.png',\n    product: 'Smart band 4',\n    brand: 'Xiaomi',\n    graphData: [\n      { month: 'January', sales: 20 },\n      { month: 'February', sales: 15 },\n      { month: 'March', sales: 18 },\n      { month: 'April', sales: 14 },\n      { month: 'May', sales: 10 },\n      { month: 'June', sales: 13 },\n      { month: 'July', sales: 8 },\n      { month: 'August', sales: 5 },\n      { month: 'September', sales: 9 },\n      { month: 'October', sales: 4 },\n      { month: 'November', sales: 8 },\n      { month: 'December', sales: 3 }\n    ],\n    price: 12,\n    orders: 592,\n    orderTrend: 'down',\n    sales: 6\n  },\n  {\n    id: '6',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-8.png',\n    product: 'Sony PlayStation 5',\n    brand: 'Sony',\n    graphData: [\n      { month: 'January', sales: 7 },\n      { month: 'February', sales: 2 },\n      { month: 'March', sales: 10 },\n      { month: 'April', sales: 7 },\n      { month: 'May', sales: 3 },\n      { month: 'June', sales: 12 },\n      { month: 'July', sales: 16 },\n      { month: 'August', sales: 10 },\n      { month: 'September', sales: 17 },\n      { month: 'October', sales: 11 },\n      { month: 'November', sales: 18 },\n      { month: 'December', sales: 22 }\n    ],\n    price: 160,\n    orders: 23,\n    orderTrend: 'up',\n    sales: 12\n  },\n  {\n    id: '7',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-9.png',\n    product: 'OnePlus 15 Pro',\n    brand: 'OnePlus',\n    graphData: [\n      { month: 'January', sales: 5 },\n      { month: 'February', sales: 12 },\n      { month: 'March', sales: 8 },\n      { month: 'April', sales: 16 },\n      { month: 'May', sales: 22 },\n      { month: 'June', sales: 15 },\n      { month: 'July', sales: 18 },\n      { month: 'August', sales: 11 },\n      { month: 'September', sales: 5 },\n      { month: 'October', sales: 15 },\n      { month: 'November', sales: 20 },\n      { month: 'December', sales: 12 }\n    ],\n    price: 899,\n    orders: 87,\n    orderTrend: 'up',\n    sales: 15\n  },\n  {\n    id: '8',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-10.png',\n    product: 'Apple magic mouse',\n    brand: 'Apple',\n    graphData: [\n      { month: 'January', sales: 15 },\n      { month: 'February', sales: 18 },\n      { month: 'March', sales: 14 },\n      { month: 'April', sales: 20 },\n      { month: 'May', sales: 16 },\n      { month: 'June', sales: 12 },\n      { month: 'July', sales: 10 },\n      { month: 'August', sales: 8 },\n      { month: 'September', sales: 11 },\n      { month: 'October', sales: 9 },\n      { month: 'November', sales: 7 },\n      { month: 'December', sales: 5 }\n    ],\n    price: 79,\n    orders: 156,\n    orderTrend: 'down',\n    sales: -12\n  },\n  {\n    id: '9',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-11.png',\n    product: 'Wooden Chair',\n    brand: 'Ikea',\n    graphData: [\n      { month: 'January', sales: 8 },\n      { month: 'February', sales: 12 },\n      { month: 'March', sales: 18 },\n      { month: 'April', sales: 10 },\n      { month: 'May', sales: 18 },\n      { month: 'June', sales: 15 },\n      { month: 'July', sales: 22 },\n      { month: 'August', sales: 15 },\n      { month: 'September', sales: 10 },\n      { month: 'October', sales: 2 },\n      { month: 'November', sales: 8 },\n      { month: 'December', sales: 14 }\n    ],\n    price: 149,\n    orders: 234,\n    orderTrend: 'up',\n    sales: 28\n  },\n  {\n    id: '10',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-12.png',\n    product: 'Nike Jordan 1',\n    brand: 'Nike',\n    graphData: [\n      { month: 'January', sales: 2 },\n      { month: 'February', sales: 4 },\n      { month: 'March', sales: 2 },\n      { month: 'April', sales: 6 },\n      { month: 'May', sales: 4 },\n      { month: 'June', sales: 8 },\n      { month: 'July', sales: 6 },\n      { month: 'August', sales: 10 },\n      { month: 'September', sales: 8 },\n      { month: 'October', sales: 12 },\n      { month: 'November', sales: 10 },\n      { month: 'December', sales: 14 }\n    ],\n    price: 180,\n    orders: 189,\n    orderTrend: 'up',\n    sales: 35\n  },\n  {\n    id: '11',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-13.png',\n    product: 'Nintendo Switch Pro',\n    brand: 'Nintendo',\n    graphData: [\n      { month: 'January', sales: 7 },\n      { month: 'February', sales: 15 },\n      { month: 'March', sales: 21 },\n      { month: 'April', sales: 14 },\n      { month: 'May', sales: 21 },\n      { month: 'June', sales: 13 },\n      { month: 'July', sales: 8 },\n      { month: 'August', sales: 16 },\n      { month: 'September', sales: 8 },\n      { month: 'October', sales: 15 },\n      { month: 'November', sales: 7 },\n      { month: 'December', sales: 13 }\n    ],\n    price: 349,\n    orders: 67,\n    orderTrend: 'down',\n    sales: -8\n  },\n  {\n    id: '12',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-14.png',\n    product: 'Apple Watch 2',\n    brand: 'Apple',\n    graphData: [\n      { month: 'January', sales: 22 },\n      { month: 'February', sales: 16 },\n      { month: 'March', sales: 10 },\n      { month: 'April', sales: 15 },\n      { month: 'May', sales: 8 },\n      { month: 'June', sales: 2 },\n      { month: 'July', sales: 9 },\n      { month: 'August', sales: 14 },\n      { month: 'September', sales: 20 },\n      { month: 'October', sales: 17 },\n      { month: 'November', sales: 12 },\n      { month: 'December', sales: 16 }\n    ],\n    price: 299,\n    orders: 145,\n    orderTrend: 'up',\n    sales: 22\n  },\n  {\n    id: '13',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-15.png',\n    product: 'Samsung Note 10 Pro',\n    brand: 'Samsung',\n    graphData: [\n      { month: 'January', sales: 14 },\n      { month: 'February', sales: 16 },\n      { month: 'March', sales: 10 },\n      { month: 'April', sales: 18 },\n      { month: 'May', sales: 13 },\n      { month: 'June', sales: 6 },\n      { month: 'July', sales: 11 },\n      { month: 'August', sales: 18 },\n      { month: 'September', sales: 12 },\n      { month: 'October', sales: 15 },\n      { month: 'November', sales: 10 },\n      { month: 'December', sales: 14 }\n    ],\n    price: 599,\n    orders: 28,\n    orderTrend: 'down',\n    sales: -25\n  },\n  {\n    id: '14',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-16.png',\n    product: 'Ray Ban Aviator',\n    brand: 'Ray Ban',\n    graphData: [\n      { month: 'January', sales: 20 },\n      { month: 'February', sales: 18 },\n      { month: 'March', sales: 12 },\n      { month: 'April', sales: 16 },\n      { month: 'May', sales: 10 },\n      { month: 'June', sales: 16 },\n      { month: 'July', sales: 12 },\n      { month: 'August', sales: 8 },\n      { month: 'September', sales: 15 },\n      { month: 'October', sales: 10 },\n      { month: 'November', sales: 16 },\n      { month: 'December', sales: 11 }\n    ],\n    price: 165,\n    orders: 198,\n    orderTrend: 'up',\n    sales: 18\n  },\n  {\n    id: '15',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-4.png',\n    product: 'Macbook Air M2',\n    brand: 'Apple',\n    graphData: [\n      { month: 'January', sales: 8 },\n      { month: 'February', sales: 12 },\n      { month: 'March', sales: 16 },\n      { month: 'April', sales: 10 },\n      { month: 'May', sales: 4 },\n      { month: 'June', sales: 11 },\n      { month: 'July', sales: 15 },\n      { month: 'August', sales: 10 },\n      { month: 'September', sales: 14 },\n      { month: 'October', sales: 18 },\n      { month: 'November', sales: 14 },\n      { month: 'December', sales: 20 }\n    ],\n    price: 1199,\n    orders: 73,\n    orderTrend: 'up',\n    sales: 14\n  },\n  {\n    id: '16',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-6.png',\n    product: 'Samsung Book 6',\n    brand: 'Samsung',\n    graphData: [\n      { month: 'January', sales: 6 },\n      { month: 'February', sales: 8 },\n      { month: 'March', sales: 14 },\n      { month: 'April', sales: 9 },\n      { month: 'May', sales: 4 },\n      { month: 'June', sales: 11 },\n      { month: 'July', sales: 16 },\n      { month: 'August', sales: 10 },\n      { month: 'September', sales: 18 },\n      { month: 'October', sales: 14 },\n      { month: 'November', sales: 9 },\n      { month: 'December', sales: 14 }\n    ],\n    price: 849,\n    orders: 45,\n    orderTrend: 'up',\n    sales: 8\n  },\n  {\n    id: '17',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-10.png',\n    product: 'Apple Magic Mouse 2',\n    brand: 'Apple',\n    graphData: [\n      { month: 'January', sales: 21 },\n      { month: 'February', sales: 17 },\n      { month: 'March', sales: 12 },\n      { month: 'April', sales: 16 },\n      { month: 'May', sales: 20 },\n      { month: 'June', sales: 13 },\n      { month: 'July', sales: 8 },\n      { month: 'August', sales: 13 },\n      { month: 'September', sales: 9 },\n      { month: 'October', sales: 5 },\n      { month: 'November', sales: 10 },\n      { month: 'December', sales: 15 }\n    ],\n    price: 99,\n    orders: 112,\n    orderTrend: 'down',\n    sales: -18\n  },\n  {\n    id: '18',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-16.png',\n    product: 'Ray Ban EyeCat',\n    brand: 'Ray Ban',\n    graphData: [\n      { month: 'January', sales: 16 },\n      { month: 'February', sales: 13 },\n      { month: 'March', sales: 18 },\n      { month: 'April', sales: 21 },\n      { month: 'May', sales: 16 },\n      { month: 'June', sales: 11 },\n      { month: 'July', sales: 7 },\n      { month: 'August', sales: 2 },\n      { month: 'September', sales: 8 },\n      { month: 'October', sales: 13 },\n      { month: 'November', sales: 18 },\n      { month: 'December', sales: 15 }\n    ],\n    price: 195,\n    orders: 156,\n    orderTrend: 'up',\n    sales: 12\n  },\n  {\n    id: '19',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-8.png',\n    product: 'Xbox Series X',\n    brand: 'Microsoft',\n    graphData: [\n      { month: 'January', sales: 15 },\n      { month: 'February', sales: 8 },\n      { month: 'March', sales: 13 },\n      { month: 'April', sales: 19 },\n      { month: 'May', sales: 12 },\n      { month: 'June', sales: 18 },\n      { month: 'July', sales: 21 },\n      { month: 'August', sales: 17 },\n      { month: 'September', sales: 12 },\n      { month: 'October', sales: 8 },\n      { month: 'November', sales: 13 },\n      { month: 'December', sales: 19 }\n    ],\n    price: 499,\n    orders: 91,\n    orderTrend: 'up',\n    sales: 25\n  },\n  {\n    id: '20',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-4.png',\n    product: 'Macbook Pro M4',\n    brand: 'Apple',\n    graphData: [\n      { month: 'January', sales: 3 },\n      { month: 'February', sales: 9 },\n      { month: 'March', sales: 13 },\n      { month: 'April', sales: 18 },\n      { month: 'May', sales: 14 },\n      { month: 'June', sales: 20 },\n      { month: 'July', sales: 12 },\n      { month: 'August', sales: 7 },\n      { month: 'September', sales: 13 },\n      { month: 'October', sales: 5 },\n      { month: 'November', sales: 11 },\n      { month: 'December', sales: 6 }\n    ],\n    price: 1999,\n    orders: 42,\n    orderTrend: 'up',\n    sales: 32\n  },\n  {\n    id: '21',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-8.png',\n    product: 'Play Station 4',\n    brand: 'Sony',\n    graphData: [\n      { month: 'January', sales: 13 },\n      { month: 'February', sales: 19 },\n      { month: 'March', sales: 12 },\n      { month: 'April', sales: 3 },\n      { month: 'May', sales: 12 },\n      { month: 'June', sales: 9 },\n      { month: 'July', sales: 14 },\n      { month: 'August', sales: 20 },\n      { month: 'September', sales: 14 },\n      { month: 'October', sales: 22 },\n      { month: 'November', sales: 18 },\n      { month: 'December', sales: 13 }\n    ],\n    price: 299,\n    orders: 34,\n    orderTrend: 'down',\n    sales: -35\n  },\n  {\n    id: '22',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-15.png',\n    product: 'Xiaomi 14 Ultra',\n    brand: 'Xiaomi',\n    graphData: [\n      { month: 'January', sales: 4 },\n      { month: 'February', sales: 7 },\n      { month: 'March', sales: 11 },\n      { month: 'April', sales: 16 },\n      { month: 'May', sales: 22 },\n      { month: 'June', sales: 18 },\n      { month: 'July', sales: 14 },\n      { month: 'August', sales: 9 },\n      { month: 'September', sales: 2 },\n      { month: 'October', sales: 8 },\n      { month: 'November', sales: 13 },\n      { month: 'December', sales: 19 }\n    ],\n    price: 1299,\n    orders: 68,\n    orderTrend: 'up',\n    sales: 28\n  },\n  {\n    id: '23',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-11.png',\n    product: 'Rocking Chair',\n    brand: 'Ikea',\n    graphData: [\n      { month: 'January', sales: 12 },\n      { month: 'February', sales: 15 },\n      { month: 'March', sales: 18 },\n      { month: 'April', sales: 22 },\n      { month: 'May', sales: 19 },\n      { month: 'June', sales: 14 },\n      { month: 'July', sales: 20 },\n      { month: 'August', sales: 16 },\n      { month: 'September', sales: 8 },\n      { month: 'October', sales: 13 },\n      { month: 'November', sales: 6 },\n      { month: 'December', sales: 11 }\n    ],\n    price: 225,\n    orders: 187,\n    orderTrend: 'up',\n    sales: 16\n  },\n  {\n    id: '24',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-12.png',\n    product: 'Nike Air Max',\n    brand: 'Nike',\n    graphData: [\n      { month: 'January', sales: 22 },\n      { month: 'February', sales: 18 },\n      { month: 'March', sales: 12 },\n      { month: 'April', sales: 17 },\n      { month: 'May', sales: 19 },\n      { month: 'June', sales: 14 },\n      { month: 'July', sales: 20 },\n      { month: 'August', sales: 16 },\n      { month: 'September', sales: 8 },\n      { month: 'October', sales: 13 },\n      { month: 'November', sales: 6 },\n      { month: 'December', sales: 11 }\n    ],\n    price: 140,\n    orders: 298,\n    orderTrend: 'up',\n    sales: 26\n  },\n  {\n    id: '25',\n    productImage: 'https://cdn.shadcnstudio.com/ss-assets/blocks/data-table/image-7.png',\n    product: 'Fitbit Versa 4',\n    brand: 'Fitbit',\n    graphData: [\n      { month: 'January', sales: 18 },\n      { month: 'February', sales: 20 },\n      { month: 'March', sales: 23 },\n      { month: 'April', sales: 16 },\n      { month: 'May', sales: 7 },\n      { month: 'June', sales: 12 },\n      { month: 'July', sales: 18 },\n      { month: 'August', sales: 13 },\n      { month: 'September', sales: 18 },\n      { month: 'October', sales: 11 },\n      { month: 'November', sales: 4 },\n      { month: 'December', sales: 9 }\n    ],\n    price: 199,\n    orders: 167,\n    orderTrend: 'down',\n    sales: -15\n  }\n]\n\nconst DataTablePreview = () => {\n  return (\n    <div className='py-8 sm:py-16 lg:py-24'>\n      <div className='mx-auto max-w-7xl px-4 sm:px-6 lg:px-8'>\n        <Card className='mx-auto w-full max-w-250 py-0'>\n          <ProductDatatable data={productData} />\n        </Card>\n      </div>\n    </div>\n  )\n}\n\nexport default DataTablePreview\n",
      "type": "registry:page",
      "target": "app/datatable-component-07/page.tsx"
    },
    {
      "path": "src/registry/new-york/components/blocks/datatable-product-graph.tsx",
      "content": "'use client'\n\nimport { useId, useMemo, useState } from 'react'\n\nimport Papa from 'papaparse'\nimport * as XLSX from 'xlsx'\n\nimport {\n  ArrowDownIcon,\n  ArrowUpIcon,\n  ChevronDownIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  ChevronUpIcon,\n  EllipsisVerticalIcon,\n  EyeIcon,\n  FileSpreadsheetIcon,\n  FileTextIcon,\n  PlusIcon,\n  SearchIcon,\n  Trash2Icon,\n  UploadIcon\n} from 'lucide-react'\n\nimport type { Column, ColumnDef, ColumnFiltersState, PaginationState, RowData } from '@tanstack/react-table'\nimport {\n  flexRender,\n  getCoreRowModel,\n  getFacetedMinMaxValues,\n  getFacetedRowModel,\n  getPaginationRowModel,\n  getFacetedUniqueValues,\n  getFilteredRowModel,\n  getSortedRowModel,\n  useReactTable\n} from '@tanstack/react-table'\n\nimport { Line, LineChart } from 'recharts'\n\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { type ChartConfig, ChartContainer, ChartTooltip, ChartTooltipContent } from '@/components/ui/chart'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger\n} from '@/components/ui/dropdown-menu'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Pagination, PaginationContent, PaginationEllipsis, PaginationItem } from '@/components/ui/pagination'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip'\n\nimport { usePagination } from '@/hooks/use-pagination'\n\nimport { cn } from '@/lib/utils'\n\ndeclare module '@tanstack/react-table' {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface ColumnMeta<TData extends RowData, TValue> {\n    filterVariant?: 'text' | 'range' | 'select'\n  }\n}\n\nexport type Item = {\n  id: string\n  productImage: string\n  product: string\n  brand: string\n  graphData: { month: string; sales: number }[]\n  price: number\n  orders: number\n  orderTrend: 'up' | 'down'\n  sales: number\n}\n\nconst salesChartConfig = {\n  sales: {\n    label: 'Sales'\n  }\n} satisfies ChartConfig\n\nconst columns: ColumnDef<Item>[] = [\n  {\n    id: 'select',\n    header: ({ table }) => (\n      <Checkbox\n        checked={table.getIsAllPageRowsSelected() || (table.getIsSomePageRowsSelected() && 'indeterminate')}\n        onCheckedChange={value => table.toggleAllRowsSelected(!!value)}\n        aria-label='Select all'\n      />\n    ),\n    cell: ({ row }) => (\n      <Checkbox\n        checked={row.getIsSelected()}\n        onCheckedChange={value => row.toggleSelected(!!value)}\n        aria-label='Select row'\n      />\n    ),\n    size: 50\n  },\n  {\n    header: 'Product',\n    accessorKey: 'product',\n    cell: ({ row }) => (\n      <div className='flex items-center gap-2'>\n        <div className='bg-primary/5 flex size-10 items-center justify-center rounded-sm'>\n          <img src={row.original.productImage} alt={row.getValue('product')} className='w-7.5' />\n        </div>\n        <div className='flex flex-col'>\n          <span className='font-medium'>{row.getValue('product')}</span>\n          <span className='text-muted-foreground'>{row.original.brand}</span>\n        </div>\n      </div>\n    ),\n    size: 360\n  },\n\n  {\n    header: 'Graph',\n    accessorKey: 'graphData',\n    cell: ({ row }) => (\n      <>\n        <ChartContainer config={salesChartConfig} className='h-6 w-full'>\n          <LineChart\n            accessibilityLayer\n            data={row.original.graphData}\n            margin={{\n              top: 4,\n              left: 6,\n              right: 6\n            }}\n          >\n            <ChartTooltip cursor={false} content={<ChartTooltipContent hideLabel />} />\n            <Line dataKey='sales' type='monotone' dot={false} stroke='var(--primary)' strokeWidth={2} />\n          </LineChart>\n        </ChartContainer>\n      </>\n    ),\n    size: 200\n  },\n  {\n    header: 'Price',\n    accessorKey: 'price',\n    cell: ({ row }) => {\n      const amount = parseFloat(row.getValue('price'))\n\n      const formatted = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD'\n      }).format(amount)\n\n      return <span>{formatted.slice(0, -3)}</span>\n    },\n    size: 100\n  },\n  {\n    header: 'Orders',\n    accessorKey: 'orders',\n    cell: ({ row }) => (\n      <div className='flex items-center gap-2'>\n        {row.original.orderTrend === 'up' ? <ArrowUpIcon className='size-4' /> : <ArrowDownIcon className='size-4' />}\n        <span>{row.getValue('orders')}</span>\n      </div>\n    ),\n    size: 100\n  },\n  {\n    header: 'Sales',\n    accessorKey: 'sales',\n    cell: ({ row }) => (\n      <Badge className='bg-primary/10 text-primary px-1.5 py-px'>\n        {row.original.sales > 0 ? `+${row.original.sales}` : row.original.sales}%\n      </Badge>\n    ),\n    size: 100\n  },\n  {\n    id: 'actions',\n    header: () => <div className='text-center'>Actions</div>,\n    cell: () => (\n      <div className='flex items-center justify-center gap-1'>\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button variant='ghost' size={'icon'} aria-label='Delete item'>\n              <Trash2Icon className='size-4.5' />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>\n            <p>Delete</p>\n          </TooltipContent>\n        </Tooltip>\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button variant='ghost' size={'icon'} aria-label='View item'>\n              <EyeIcon className='size-4.5' />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>\n            <p>View</p>\n          </TooltipContent>\n        </Tooltip>\n        <RowActions />\n      </div>\n    ),\n    enableHiding: false\n  }\n]\n\nconst ProductDatatable = ({ data }: { data: Item[] }) => {\n  const [columnFilters, setColumnFilters] = useState<ColumnFiltersState>([])\n\n  const pageSize = 5\n\n  const [pagination, setPagination] = useState<PaginationState>({\n    pageIndex: 0,\n    pageSize: pageSize\n  })\n\n  const table = useReactTable({\n    data,\n    columns,\n    state: {\n      columnFilters,\n      pagination\n    },\n    onColumnFiltersChange: setColumnFilters,\n    getCoreRowModel: getCoreRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFacetedRowModel: getFacetedRowModel(),\n    getFacetedUniqueValues: getFacetedUniqueValues(),\n    getFacetedMinMaxValues: getFacetedMinMaxValues(),\n    enableSortingRemoval: false,\n    getPaginationRowModel: getPaginationRowModel(),\n    onPaginationChange: setPagination\n  })\n\n  const exportToCSV = () => {\n    const selectedRows = table.getSelectedRowModel().rows\n\n    const dataToExport =\n      selectedRows.length > 0\n        ? selectedRows.map(row => row.original)\n        : table.getFilteredRowModel().rows.map(row => row.original)\n\n    const csv = Papa.unparse(dataToExport, {\n      header: true\n    })\n\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' })\n    const link = document.createElement('a')\n    const url = URL.createObjectURL(blob)\n\n    link.setAttribute('href', url)\n    link.setAttribute('download', `payments-export-${new Date().toISOString().split('T')[0]}.csv`)\n    link.style.visibility = 'hidden'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  const exportToExcel = () => {\n    const selectedRows = table.getSelectedRowModel().rows\n\n    const dataToExport =\n      selectedRows.length > 0\n        ? selectedRows.map(row => row.original)\n        : table.getFilteredRowModel().rows.map(row => row.original)\n\n    const worksheet = XLSX.utils.json_to_sheet(dataToExport)\n    const workbook = XLSX.utils.book_new()\n\n    XLSX.utils.book_append_sheet(workbook, worksheet, 'Payments')\n\n    const cols = [{ wch: 10 }, { wch: 20 }, { wch: 15 }, { wch: 25 }, { wch: 15 }]\n\n    worksheet['!cols'] = cols\n\n    XLSX.writeFile(workbook, `payments-export-${new Date().toISOString().split('T')[0]}.xlsx`)\n  }\n\n  const exportToJSON = () => {\n    const selectedRows = table.getSelectedRowModel().rows\n\n    const dataToExport =\n      selectedRows.length > 0\n        ? selectedRows.map(row => row.original)\n        : table.getFilteredRowModel().rows.map(row => row.original)\n\n    const json = JSON.stringify(dataToExport, null, 2)\n    const blob = new Blob([json], { type: 'application/json' })\n    const link = document.createElement('a')\n    const url = URL.createObjectURL(blob)\n\n    link.setAttribute('href', url)\n    link.setAttribute('download', `payments-export-${new Date().toISOString().split('T')[0]}.json`)\n    link.style.visibility = 'hidden'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  const { pages, showLeftEllipsis, showRightEllipsis } = usePagination({\n    currentPage: table.getState().pagination.pageIndex + 1,\n    totalPages: table.getPageCount(),\n    paginationItemsToDisplay: 2\n  })\n\n  return (\n    <div className='w-full'>\n      <div className='border-b'>\n        <div className='flex gap-4 p-6 max-sm:flex-col sm:items-center sm:justify-between'>\n          <Filter column={table.getColumn('product')!} />\n          <div className='flex items-center gap-4 max-sm:gap-2 sm:flex-wrap sm:justify-between'>\n            <div className='flex items-center gap-2'>\n              <Label htmlFor='#rowSelect' className='sr-only'>\n                Show\n              </Label>\n              <Select\n                value={table.getState().pagination.pageSize.toString()}\n                onValueChange={value => {\n                  table.setPageSize(Number(value))\n                }}\n              >\n                <SelectTrigger id='rowSelect' className='w-fit whitespace-nowrap'>\n                  <SelectValue placeholder='Select number of results' />\n                </SelectTrigger>\n                <SelectContent className='[&_*[role=option]]:pr-8 [&_*[role=option]]:pl-2 [&_*[role=option]>span]:right-2 [&_*[role=option]>span]:left-auto'>\n                  {[5, 10, 25, 50].map(pageSize => (\n                    <SelectItem key={pageSize} value={pageSize.toString()}>\n                      {pageSize}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button className='bg-primary/10 text-primary hover:bg-primary/20 focus-visible:ring-primary/20 dark:focus-visible:ring-primary/40'>\n                  <UploadIcon />\n                  Export\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align='end'>\n                <DropdownMenuItem onClick={exportToCSV}>\n                  <FileTextIcon className='mr-2 size-4' />\n                  Export as CSV\n                </DropdownMenuItem>\n                <DropdownMenuItem onClick={exportToExcel}>\n                  <FileSpreadsheetIcon className='mr-2 size-4' />\n                  Export as Excel\n                </DropdownMenuItem>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem onClick={exportToJSON}>\n                  <FileTextIcon className='mr-2 size-4' />\n                  Export as JSON\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n            <Button>\n              <PlusIcon />\n              Add Product\n            </Button>\n          </div>\n        </div>\n        <Table>\n          <TableHeader>\n            {table.getHeaderGroups().map(headerGroup => (\n              <TableRow key={headerGroup.id} className='h-14 border-t'>\n                {headerGroup.headers.map(header => {\n                  return (\n                    <TableHead\n                      key={header.id}\n                      style={{ width: `${header.getSize()}px` }}\n                      className='text-muted-foreground first:pl-4 last:px-4'\n                    >\n                      {header.isPlaceholder ? null : header.column.getCanSort() ? (\n                        <div\n                          className={cn(\n                            header.column.getCanSort() &&\n                              'flex h-full cursor-pointer items-center justify-between gap-2 select-none'\n                          )}\n                          onClick={header.column.getToggleSortingHandler()}\n                          onKeyDown={e => {\n                            if (header.column.getCanSort() && (e.key === 'Enter' || e.key === ' ')) {\n                              e.preventDefault()\n                              header.column.getToggleSortingHandler()?.(e)\n                            }\n                          }}\n                          tabIndex={header.column.getCanSort() ? 0 : undefined}\n                        >\n                          {flexRender(header.column.columnDef.header, header.getContext())}\n                          {{\n                            asc: <ChevronUpIcon className='shrink-0 opacity-60' size={16} aria-hidden='true' />,\n                            desc: <ChevronDownIcon className='shrink-0 opacity-60' size={16} aria-hidden='true' />\n                          }[header.column.getIsSorted() as string] ?? null}\n                        </div>\n                      ) : (\n                        flexRender(header.column.columnDef.header, header.getContext())\n                      )}\n                    </TableHead>\n                  )\n                })}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {table.getRowModel().rows?.length ? (\n              table.getRowModel().rows.map(row => (\n                <TableRow key={row.id} data-state={row.getIsSelected() && 'selected'} className='hover:bg-transparent'>\n                  {row.getVisibleCells().map(cell => (\n                    <TableCell key={cell.id} className='h-14 first:w-12.5 first:pl-4 last:w-29 last:px-4'>\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              ))\n            ) : (\n              <TableRow>\n                <TableCell colSpan={columns.length} className='h-24 text-center'>\n                  No results.\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n\n      <div className='flex items-center justify-between gap-3 px-6 py-4 max-sm:flex-col'>\n        <p className='text-muted-foreground text-sm whitespace-nowrap' aria-live='polite'>\n          Showing{' '}\n          <span>\n            {table.getState().pagination.pageIndex * table.getState().pagination.pageSize + 1} to{' '}\n            {Math.min(\n              Math.max(\n                table.getState().pagination.pageIndex * table.getState().pagination.pageSize +\n                  table.getState().pagination.pageSize,\n                0\n              ),\n              table.getRowCount()\n            )}\n          </span>{' '}\n          of <span>{table.getRowCount().toString()} entries</span>\n        </p>\n\n        <div>\n          <Pagination>\n            <PaginationContent>\n              <PaginationItem>\n                <Button\n                  className='disabled:pointer-events-none disabled:opacity-50'\n                  variant={'ghost'}\n                  onClick={() => table.previousPage()}\n                  disabled={!table.getCanPreviousPage()}\n                  aria-label='Go to previous page'\n                >\n                  <ChevronLeftIcon size={16} aria-hidden='true' />\n                  Previous\n                </Button>\n              </PaginationItem>\n\n              {showLeftEllipsis && (\n                <PaginationItem>\n                  <PaginationEllipsis />\n                </PaginationItem>\n              )}\n\n              {pages.map(page => {\n                const isActive = page === table.getState().pagination.pageIndex + 1\n\n                return (\n                  <PaginationItem key={page}>\n                    <Button\n                      size='icon'\n                      className={`${!isActive && 'bg-primary/10 text-primary hover:bg-primary/20 focus-visible:ring-primary/20 dark:focus-visible:ring-primary/40'}`}\n                      onClick={() => table.setPageIndex(page - 1)}\n                      aria-current={isActive ? 'page' : undefined}\n                    >\n                      {page}\n                    </Button>\n                  </PaginationItem>\n                )\n              })}\n\n              {showRightEllipsis && (\n                <PaginationItem>\n                  <PaginationEllipsis />\n                </PaginationItem>\n              )}\n\n              <PaginationItem>\n                <Button\n                  className='disabled:pointer-events-none disabled:opacity-50'\n                  variant={'ghost'}\n                  onClick={() => table.nextPage()}\n                  disabled={!table.getCanNextPage()}\n                  aria-label='Go to next page'\n                >\n                  Next\n                  <ChevronRightIcon size={16} aria-hidden='true' />\n                </Button>\n              </PaginationItem>\n            </PaginationContent>\n          </Pagination>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ProductDatatable\n\nfunction Filter({ column }: { column: Column<any, unknown> }) {\n  const id = useId()\n  const columnFilterValue = column.getFilterValue()\n  const { filterVariant } = column.columnDef.meta ?? {}\n  const columnHeader = typeof column.columnDef.header === 'string' ? column.columnDef.header : ''\n\n  const sortedUniqueValues = useMemo(() => {\n    if (filterVariant === 'range') return []\n\n    const values = Array.from(column.getFacetedUniqueValues().keys())\n\n    const flattenedValues = values.reduce((acc: string[], curr) => {\n      if (Array.isArray(curr)) {\n        return [...acc, ...curr]\n      }\n\n      return [...acc, curr]\n    }, [])\n\n    return Array.from(new Set(flattenedValues)).sort()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [column.getFacetedUniqueValues(), filterVariant])\n\n  if (filterVariant === 'select') {\n    return (\n      <div className='w-full max-w-2xs'>\n        <Label htmlFor={`${id}-select`} className='sr-only'>\n          {columnHeader}\n        </Label>\n        <Select\n          value={columnFilterValue?.toString()}\n          onValueChange={value => {\n            column.setFilterValue(value === 'all' ? undefined : value)\n          }}\n        >\n          <SelectTrigger id={`${id}-select`} className='w-full capitalize'>\n            <SelectValue placeholder={`Select ${columnHeader}`} />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value='all'>All</SelectItem>\n            {sortedUniqueValues.map(value => (\n              <SelectItem key={String(value)} value={String(value)} className='capitalize'>\n                {String(value)}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n    )\n  }\n\n  return (\n    <div className='w-full max-w-2xs'>\n      <Label htmlFor={`${id}-input`} className='sr-only'>\n        {columnHeader}\n      </Label>\n      <div className='relative'>\n        <Input\n          id={`${id}-input`}\n          className='peer pl-9'\n          value={(columnFilterValue ?? '') as string}\n          onChange={e => column.setFilterValue(e.target.value)}\n          placeholder={`Search ${columnHeader.toLowerCase()}`}\n          type='text'\n        />\n        <div className='text-muted-foreground/80 pointer-events-none absolute inset-y-0 left-0 flex items-center justify-center pl-3 peer-disabled:opacity-50'>\n          <SearchIcon size={16} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction RowActions() {\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <div className='flex'>\n          <Button size='icon' variant='ghost' className='rounded-full p-2' aria-label='Edit item'>\n            <EllipsisVerticalIcon className='size-4.5' aria-hidden='true' />\n          </Button>\n        </div>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align='start'>\n        <DropdownMenuGroup>\n          <DropdownMenuItem>\n            <span>Edit</span>\n          </DropdownMenuItem>\n          <DropdownMenuItem>\n            <span>Duplicate</span>\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/shadcn-studio/blocks/datatable-product-graph.tsx"
    },
    {
      "path": "src/registry/new-york/hooks/use-pagination.ts",
      "content": "type UsePaginationProps = {\n  currentPage: number\n  totalPages: number\n  paginationItemsToDisplay: number\n}\n\ntype UsePaginationReturn = {\n  pages: number[]\n  showLeftEllipsis: boolean\n  showRightEllipsis: boolean\n}\n\nexport function usePagination({\n  currentPage,\n  totalPages,\n  paginationItemsToDisplay\n}: UsePaginationProps): UsePaginationReturn {\n  function calculatePaginationRange(): number[] {\n    if (totalPages <= paginationItemsToDisplay) {\n      return Array.from({ length: totalPages }, (_, i) => i + 1)\n    }\n\n    const halfDisplay = Math.floor(paginationItemsToDisplay / 2)\n\n    const initialRange = {\n      start: currentPage - halfDisplay,\n      end: currentPage + halfDisplay\n    }\n\n    const adjustedRange = {\n      start: Math.max(1, initialRange.start),\n      end: Math.min(totalPages, initialRange.end)\n    }\n\n    if (adjustedRange.start === 1) {\n      adjustedRange.end = Math.min(paginationItemsToDisplay, totalPages)\n    }\n\n    if (adjustedRange.end === totalPages) {\n      adjustedRange.start = Math.max(1, totalPages - paginationItemsToDisplay + 1)\n    }\n\n    return Array.from({ length: adjustedRange.end - adjustedRange.start + 1 }, (_, i) => adjustedRange.start + i)\n  }\n\n  const pages = calculatePaginationRange()\n\n  // Determine ellipsis display based on the actual pages shown\n  const showLeftEllipsis = pages.length > 0 && pages[0] > 1 && pages[0] > 2\n\n  const showRightEllipsis =\n    pages.length > 0 && pages[pages.length - 1] < totalPages && pages[pages.length - 1] < totalPages - 1\n\n  return {\n    pages,\n    showLeftEllipsis,\n    showRightEllipsis\n  }\n}\n",
      "type": "registry:hook",
      "target": "hooks/use-pagination.ts"
    }
  ]
}