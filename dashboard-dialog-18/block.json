{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "dashboard-dialog-18",
  "type": "registry:block",
  "description": "A meeting scheduling dialog with calendar integration, badge indicators, dropdown menus, toggle groups, textarea fields, and comprehensive scheduling features.",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "badge",
    "button",
    "calendar",
    "dialog",
    "dropdown-menu",
    "input",
    "label",
    "popover",
    "scroll-area",
    "select",
    "textarea",
    "toggle-group",
    "utils"
  ],
  "files": [
    {
      "path": "src/registry/new-york/blocks/dashboard-and-application/dashboard-dialog/dashboard-dialog-18/page.tsx",
      "content": "import { Button } from '@/components/ui/button'\nimport ScheduleMeetingDialog from '@/components/shadcn-studio/blocks/dashboard-dialog-18/dialog-schedule-meeting'\n\nconst DialogPage = () => {\n  return (\n    <div className='flex h-dvh items-start justify-center p-8'>\n      <ScheduleMeetingDialog\n        defaultOpen\n        trigger={\n          <Button variant='outline'>\n            <span>Schedule meeting</span>\n          </Button>\n        }\n      />\n    </div>\n  )\n}\n\nexport default DialogPage\n",
      "type": "registry:page",
      "target": "app/dashboard-dialog-18/page.tsx"
    },
    {
      "path": "src/registry/new-york/components/blocks/dashboard-dialog-18/dialog-schedule-meeting.tsx",
      "content": "'use client'\n\nimport { useState, type ReactNode } from 'react'\n\nimport {\n  AlertCircleIcon,\n  CalendarIcon,\n  ChevronDownIcon,\n  CircleCheckIcon,\n  Clock8Icon,\n  Trash2Icon,\n  UploadIcon\n} from 'lucide-react'\n\nimport type { DateRange } from 'react-day-picker'\n\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Calendar } from '@/components/ui/calendar'\nimport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from '@/components/ui/dialog'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger\n} from '@/components/ui/dropdown-menu'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from '@/components/ui/select'\nimport { Separator } from '@/components/ui/separator'\nimport { Textarea } from '@/components/ui/textarea'\nimport { ToggleGroup, ToggleGroupItem } from '@/components/ui/toggle-group'\n\nimport { formatBytes, useFileUpload } from '@/hooks/use-file-upload'\n\nimport { cn } from '@/lib/utils'\n\ntype Props = {\n  trigger: ReactNode\n  defaultOpen?: boolean\n  className?: string\n}\n\nconst ScheduleMeetingDialog = ({ defaultOpen = false, trigger, className }: Props) => {\n  const [open, setOpen] = useState(defaultOpen)\n  const [repeat, setRepeat] = useState<'weekly' | 'biweekly'>('weekly')\n  const [range, setRange] = useState<DateRange | undefined>(undefined)\n\n  const maxSizeMB = 5\n  const maxSize = maxSizeMB * 1024 * 1024\n  const maxFiles = 6\n\n  const [\n    { files, isDragging, errors },\n    { handleDragEnter, handleDragLeave, handleDragOver, handleDrop, openFileDialog, removeFile, getInputProps }\n  ] = useFileUpload({\n    maxSize,\n    multiple: true,\n    maxFiles\n  })\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild onClick={() => setOpen(true)}>\n        {trigger}\n      </DialogTrigger>\n      <DialogContent\n        className={cn(\n          'flex max-h-[min(915px,95vh)] flex-col gap-0 p-0 max-sm:max-h-[min(650px,80vh)] md:max-w-188 lg:max-w-197.5 [&>[data-slot=dialog-close]>svg]:size-5',\n          className\n        )}\n      >\n        <ScrollArea className='flex max-h-full flex-col overflow-hidden'>\n          <div className='flex flex-col gap-6 p-6'>\n            <DialogHeader>\n              <DialogTitle className='leading-7'>Create New Schedule</DialogTitle>\n              <DialogDescription>You can create meeting, event and task</DialogDescription>\n            </DialogHeader>\n\n            <div className='grid grid-cols-2 gap-4 md:grid-cols-4'>\n              <div className='col-span-2 space-y-1.5 md:col-span-4'>\n                <Label htmlFor='title' className='text-base'>\n                  Title\n                </Label>\n                <Input id='title' type='text' placeholder='Add a title' className='h-10' />\n              </div>\n\n              <div className='col-span-2 space-y-1.5 md:col-span-3'>\n                <span className='font-medium'>Days</span>\n                <ToggleGroup\n                  type='multiple'\n                  defaultValue={['saturday']}\n                  className='[&>[data-slot=toggle-group-item]]:bg-muted [&>[data-state=on]]:bg-primary [&>[data-state=on]]:text-primary-foreground gap-2 [&>[data-slot=toggle-group-item]]:size-8 [&>[data-slot=toggle-group-item]]:rounded-full'\n                >\n                  <ToggleGroupItem value='monday'>M</ToggleGroupItem>\n                  <ToggleGroupItem value='tuesday'>T</ToggleGroupItem>\n                  <ToggleGroupItem value='wednesday'>W</ToggleGroupItem>\n                  <ToggleGroupItem value='thursday'>T</ToggleGroupItem>\n                  <ToggleGroupItem value='friday'>F</ToggleGroupItem>\n                  <ToggleGroupItem value='saturday'>S</ToggleGroupItem>\n                  <ToggleGroupItem value='sunday'>S</ToggleGroupItem>\n                </ToggleGroup>\n              </div>\n\n              <div className='flex flex-col gap-1.5 max-md:col-span-2 md:items-end'>\n                <span className='font-medium'>Repeat</span>\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button size='lg' className='bg-primary/10 text-primary hover:bg-primary/20 capitalize md:w-max'>\n                      {repeat}\n                      <ChevronDownIcon />\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent>\n                    <DropdownMenuGroup>\n                      <DropdownMenuItem onClick={() => setRepeat('weekly')}>Weekly</DropdownMenuItem>\n                      <DropdownMenuItem onClick={() => setRepeat('biweekly')}>Biweekly</DropdownMenuItem>\n                    </DropdownMenuGroup>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n              </div>\n\n              <div className='col-span-2 space-y-1.5'>\n                <Label htmlFor='dates' className='text-base'>\n                  Date\n                </Label>\n                <Popover>\n                  <PopoverTrigger asChild>\n                    <Button variant='outline' id='dates' className='w-full justify-start font-normal'>\n                      <CalendarIcon />\n                      {range?.from && range?.to\n                        ? `${range.from.toLocaleDateString()} - ${range.to.toLocaleDateString()}`\n                        : 'Pick a date'}\n                    </Button>\n                  </PopoverTrigger>\n                  <PopoverContent className='w-auto overflow-hidden p-0' align='start'>\n                    <Calendar\n                      mode='range'\n                      selected={range}\n                      onSelect={range => {\n                        setRange(range)\n                      }}\n                      disabled={{ before: new Date() }}\n                    />\n                  </PopoverContent>\n                </Popover>\n              </div>\n\n              <div className='col-span-2 space-y-1.5'>\n                <Label htmlFor='timepicker' className='text-base'>\n                  Time\n                </Label>\n                <div className='relative'>\n                  <div className='pointer-events-none absolute inset-y-0 right-0 flex items-center justify-center pr-3 peer-disabled:opacity-50'>\n                    <Clock8Icon className='size-4' />\n                    <span className='sr-only'>User</span>\n                  </div>\n                  <Input\n                    type='time'\n                    id='time-picker'\n                    step='1'\n                    defaultValue='08:30:00'\n                    className='peer bg-background appearance-none pr-3 [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none'\n                  />\n                </div>\n              </div>\n\n              <div className='col-span-2 space-y-1.5 md:col-span-4'>\n                <Label htmlFor='description' className='text-base'>\n                  Description\n                </Label>\n                <Textarea placeholder='Type here' id='description' />\n              </div>\n\n              <div className='col-span-2 space-y-1.5'>\n                <Label htmlFor='members'>Members</Label>\n                <Select defaultValue='10'>\n                  <SelectTrigger id='members' className='w-full'>\n                    <SelectValue placeholder='Select a member' />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectGroup>\n                      <SelectItem value='5'>5 members</SelectItem>\n                      <SelectItem value='10'>10 members</SelectItem>\n                      <SelectItem value='15'>15 members</SelectItem>\n                    </SelectGroup>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className='col-span-2 space-y-1.5'>\n                <Label htmlFor='platform'>Platform</Label>\n                <Select defaultValue='zoom'>\n                  <SelectTrigger id='platform' className='w-full'>\n                    <SelectValue placeholder='Select a platform' />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectGroup>\n                      <SelectItem value='zoom'>Zoom meeting</SelectItem>\n                      <SelectItem value='google-meet'>Google Meet</SelectItem>\n                      <SelectItem value='microsoft-teams'>Microsoft Teams</SelectItem>\n                    </SelectGroup>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            <div className='flex flex-col gap-6'>\n              <div\n                role='button'\n                onDragEnter={handleDragEnter}\n                onDragLeave={handleDragLeave}\n                onDragOver={handleDragOver}\n                onDrop={handleDrop}\n                data-dragging={isDragging || undefined}\n                data-files={files.length > 0 || undefined}\n                className='bg-muted data-[dragging=true]:bg-accent/50 has-[input:focus]:ring-ring/50 flex min-h-24 flex-col justify-center gap-4 overflow-hidden rounded-xl p-4 has-[input:focus]:ring-[3px]'\n              >\n                <input {...getInputProps()} className='sr-only' aria-label='Upload file' />\n                <Button className='bg-primary/10 text-primary hover:bg-primary/20' size='lg' onClick={openFileDialog}>\n                  Select Files\n                  <UploadIcon />\n                </Button>\n\n                {files.length > 0 && (\n                  <div className='flex w-full flex-col gap-4'>\n                    <Separator />\n                    {files.map(file => {\n                      return (\n                        <div\n                          key={file.id}\n                          className='flex items-center justify-between gap-2 transition-opacity duration-300'\n                        >\n                          <div className='flex items-center gap-2'>\n                            <CircleCheckIcon className='size-4 shrink-0' />\n                            <p className='truncate text-sm font-semibold max-sm:max-w-35'>\n                              {file.file instanceof File ? file.file.name : file.file.name}\n                            </p>\n                            <Badge className='bg-primary/10 focus-visible:ring-primary/20 text-primary rounded-full border-none focus-visible:outline-none'>\n                              {formatBytes(file.file instanceof File ? file.file.size : file.file.size)}\n                            </Badge>\n                          </div>\n\n                          <Button\n                            onClick={() => removeFile(file.id)}\n                            variant='ghost'\n                            aria-label='remove file'\n                            className='size-6'\n                          >\n                            <Trash2Icon className='text-muted-foreground size-5' />\n                          </Button>\n                        </div>\n                      )\n                    })}\n                  </div>\n                )}\n              </div>\n\n              {errors.length > 0 && (\n                <div className='text-destructive flex items-center gap-1 text-xs' role='alert'>\n                  <AlertCircleIcon className='size-3 shrink-0' />\n                  <span>{errors[0]}</span>\n                </div>\n              )}\n            </div>\n\n            <DialogFooter className='flex-row gap-4'>\n              <DialogClose asChild>\n                <Button variant='outline' size='lg'>\n                  Cancel\n                </Button>\n              </DialogClose>\n              <Button size='lg'>Create Event</Button>\n            </DialogFooter>\n          </div>\n        </ScrollArea>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nexport default ScheduleMeetingDialog\n",
      "type": "registry:component",
      "target": "components/shadcn-studio/blocks/dashboard-dialog-18/dialog-schedule-meeting.tsx"
    },
    {
      "path": "src/registry/new-york/hooks/use-file-upload.ts",
      "content": "'use client'\n\nimport type React from 'react'\nimport { useCallback, useRef, useState, type ChangeEvent, type DragEvent, type InputHTMLAttributes } from 'react'\n\nexport type FileMetadata = {\n  name: string\n  size: number\n  type: string\n  url: string\n  id: string\n}\n\nexport type FileWithPreview = {\n  file: File | FileMetadata\n  id: string\n  preview?: string\n}\n\nexport type FileUploadOptions = {\n  maxFiles?: number // Only used when multiple is true, defaults to Infinity\n  maxSize?: number // in bytes\n  accept?: string\n  multiple?: boolean // Defaults to false\n  initialFiles?: FileMetadata[]\n  onFilesChange?: (files: FileWithPreview[]) => void // Callback when files change\n  onFilesAdded?: (addedFiles: FileWithPreview[]) => void // Callback when new files are added\n}\n\nexport type FileUploadState = {\n  files: FileWithPreview[]\n  isDragging: boolean\n  errors: string[]\n}\n\nexport type FileUploadActions = {\n  addFiles: (files: FileList | File[]) => void\n  removeFile: (id: string) => void\n  clearFiles: () => void\n  clearErrors: () => void\n  handleDragEnter: (e: DragEvent<HTMLElement>) => void\n  handleDragLeave: (e: DragEvent<HTMLElement>) => void\n  handleDragOver: (e: DragEvent<HTMLElement>) => void\n  handleDrop: (e: DragEvent<HTMLElement>) => void\n  handleFileChange: (e: ChangeEvent<HTMLInputElement>) => void\n  openFileDialog: () => void\n  getInputProps: (props?: InputHTMLAttributes<HTMLInputElement>) => InputHTMLAttributes<HTMLInputElement> & {\n    ref: React.Ref<HTMLInputElement>\n  }\n}\n\nexport const useFileUpload = (options: FileUploadOptions = {}): [FileUploadState, FileUploadActions] => {\n  const {\n    maxFiles = Infinity,\n    maxSize = Infinity,\n    accept = '*',\n    multiple = false,\n    initialFiles = [],\n    onFilesChange,\n    onFilesAdded\n  } = options\n\n  const [state, setState] = useState<FileUploadState>({\n    files: initialFiles.map(file => ({\n      file,\n      id: file.id,\n      preview: file.url\n    })),\n    isDragging: false,\n    errors: []\n  })\n\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  const validateFile = useCallback(\n    (file: File | FileMetadata): string | null => {\n      if (file instanceof File) {\n        if (file.size > maxSize) {\n          return `File \"${file.name}\" exceeds the maximum size of ${formatBytes(maxSize)}.`\n        }\n      } else {\n        if (file.size > maxSize) {\n          return `File \"${file.name}\" exceeds the maximum size of ${formatBytes(maxSize)}.`\n        }\n      }\n\n      if (accept !== '*') {\n        const acceptedTypes = accept.split(',').map(type => type.trim())\n        const fileType = file instanceof File ? file.type || '' : file.type\n        const fileExtension = `.${file instanceof File ? file.name.split('.').pop() : file.name.split('.').pop()}`\n\n        const isAccepted = acceptedTypes.some(type => {\n          if (type.startsWith('.')) {\n            return fileExtension.toLowerCase() === type.toLowerCase()\n          }\n\n          if (type.endsWith('/*')) {\n            const baseType = type.split('/')[0]\n\n            return fileType.startsWith(`${baseType}/`)\n          }\n\n          return fileType === type\n        })\n\n        if (!isAccepted) {\n          return `File \"${file instanceof File ? file.name : file.name}\" is not an accepted file type.`\n        }\n      }\n\n      return null\n    },\n    [accept, maxSize]\n  )\n\n  const createPreview = useCallback((file: File | FileMetadata): string | undefined => {\n    if (file instanceof File) {\n      return URL.createObjectURL(file)\n    }\n\n    return file.url\n  }, [])\n\n  const generateUniqueId = useCallback((file: File | FileMetadata): string => {\n    if (file instanceof File) {\n      return `${file.name}-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`\n    }\n\n    return file.id\n  }, [])\n\n  const clearFiles = useCallback(() => {\n    setState(prev => {\n      // Clean up object URLs\n      prev.files.forEach(file => {\n        if (file.preview && file.file instanceof File && file.file.type.startsWith('image/')) {\n          URL.revokeObjectURL(file.preview)\n        }\n      })\n\n      if (inputRef.current) {\n        inputRef.current.value = ''\n      }\n\n      const newState = {\n        ...prev,\n        files: [],\n        errors: []\n      }\n\n      onFilesChange?.(newState.files)\n\n      return newState\n    })\n  }, [onFilesChange])\n\n  const addFiles = useCallback(\n    (newFiles: FileList | File[]) => {\n      if (!newFiles || newFiles.length === 0) return\n\n      const newFilesArray = Array.from(newFiles)\n      const errors: string[] = []\n\n      // Clear existing errors when new files are uploaded\n      setState(prev => ({ ...prev, errors: [] }))\n\n      // In single file mode, clear existing files first\n      if (!multiple) {\n        clearFiles()\n      }\n\n      // Check if adding these files would exceed maxFiles (only in multiple mode)\n      if (multiple && maxFiles !== Infinity && state.files.length + newFilesArray.length > maxFiles) {\n        errors.push(`You can only upload a maximum of ${maxFiles} files.`)\n        setState(prev => ({ ...prev, errors }))\n\n        return\n      }\n\n      const validFiles: FileWithPreview[] = []\n\n      newFilesArray.forEach(file => {\n        // Only check for duplicates if multiple files are allowed\n        if (multiple) {\n          const isDuplicate = state.files.some(\n            existingFile => existingFile.file.name === file.name && existingFile.file.size === file.size\n          )\n\n          // Skip duplicate files silently\n          if (isDuplicate) {\n            return\n          }\n        }\n\n        // Check file size\n        if (file.size > maxSize) {\n          errors.push(\n            multiple\n              ? `Some files exceed the maximum size of ${formatBytes(maxSize)}.`\n              : `File exceeds the maximum size of ${formatBytes(maxSize)}.`\n          )\n\n          return\n        }\n\n        const error = validateFile(file)\n\n        if (error) {\n          errors.push(error)\n        } else {\n          validFiles.push({\n            file,\n            id: generateUniqueId(file),\n            preview: createPreview(file)\n          })\n        }\n      })\n\n      // Only update state if we have valid files to add\n      if (validFiles.length > 0) {\n        // Call the onFilesAdded callback with the newly added valid files\n        onFilesAdded?.(validFiles)\n\n        setState(prev => {\n          const newFiles = !multiple ? validFiles : [...prev.files, ...validFiles]\n\n          onFilesChange?.(newFiles)\n\n          return {\n            ...prev,\n            files: newFiles,\n            errors\n          }\n        })\n      } else if (errors.length > 0) {\n        setState(prev => ({\n          ...prev,\n          errors\n        }))\n      }\n\n      // Reset input value after handling files\n      if (inputRef.current) {\n        inputRef.current.value = ''\n      }\n    },\n    [\n      state.files,\n      maxFiles,\n      multiple,\n      maxSize,\n      validateFile,\n      createPreview,\n      generateUniqueId,\n      clearFiles,\n      onFilesChange,\n      onFilesAdded\n    ]\n  )\n\n  const removeFile = useCallback(\n    (id: string) => {\n      setState(prev => {\n        const fileToRemove = prev.files.find(file => file.id === id)\n\n        if (\n          fileToRemove &&\n          fileToRemove.preview &&\n          fileToRemove.file instanceof File &&\n          fileToRemove.file.type.startsWith('image/')\n        ) {\n          URL.revokeObjectURL(fileToRemove.preview)\n        }\n\n        const newFiles = prev.files.filter(file => file.id !== id)\n\n        onFilesChange?.(newFiles)\n\n        return {\n          ...prev,\n          files: newFiles,\n          errors: []\n        }\n      })\n    },\n    [onFilesChange]\n  )\n\n  const clearErrors = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      errors: []\n    }))\n  }, [])\n\n  const handleDragEnter = useCallback((e: DragEvent<HTMLElement>) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setState(prev => ({ ...prev, isDragging: true }))\n  }, [])\n\n  const handleDragLeave = useCallback((e: DragEvent<HTMLElement>) => {\n    e.preventDefault()\n    e.stopPropagation()\n\n    if (e.currentTarget.contains(e.relatedTarget as Node)) {\n      return\n    }\n\n    setState(prev => ({ ...prev, isDragging: false }))\n  }, [])\n\n  const handleDragOver = useCallback((e: DragEvent<HTMLElement>) => {\n    e.preventDefault()\n    e.stopPropagation()\n  }, [])\n\n  const handleDrop = useCallback(\n    (e: DragEvent<HTMLElement>) => {\n      e.preventDefault()\n      e.stopPropagation()\n      setState(prev => ({ ...prev, isDragging: false }))\n\n      // Don't process files if the input is disabled\n      if (inputRef.current?.disabled) {\n        return\n      }\n\n      if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n        // In single file mode, only use the first file\n        if (!multiple) {\n          const file = e.dataTransfer.files[0]\n\n          addFiles([file])\n        } else {\n          addFiles(e.dataTransfer.files)\n        }\n      }\n    },\n    [addFiles, multiple]\n  )\n\n  const handleFileChange = useCallback(\n    (e: ChangeEvent<HTMLInputElement>) => {\n      if (e.target.files && e.target.files.length > 0) {\n        addFiles(e.target.files)\n      }\n    },\n    [addFiles]\n  )\n\n  const openFileDialog = useCallback(() => {\n    if (inputRef.current) {\n      inputRef.current.click()\n    }\n  }, [])\n\n  const getInputProps = useCallback(\n    (props: InputHTMLAttributes<HTMLInputElement> = {}) => {\n      return {\n        ...props,\n        type: 'file' as const,\n        onChange: handleFileChange,\n        accept: props.accept || accept,\n        multiple: props.multiple !== undefined ? props.multiple : multiple,\n        ref: inputRef\n      }\n    },\n    [accept, multiple, handleFileChange]\n  )\n\n  return [\n    state,\n    {\n      addFiles,\n      removeFile,\n      clearFiles,\n      clearErrors,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      handleFileChange,\n      openFileDialog,\n      getInputProps\n    }\n  ]\n}\n\n// Helper function to format bytes to human-readable format\nexport const formatBytes = (bytes: number, decimals = 2): string => {\n  if (bytes === 0) return '0 Bytes'\n\n  const k = 1024\n  const dm = decimals < 0 ? 0 : decimals\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n  return Number.parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + sizes[i]\n}\n",
      "type": "registry:hook",
      "target": "hooks/use-file-upload.ts"
    }
  ]
}