{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "dashboard-dropdown-21",
  "type": "registry:block",
  "description": "An assignment dropdown with avatar display, command interface, popover functionality, and task assignment features for project management.",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "avatar",
    "button",
    "command",
    "label",
    "popover"
  ],
  "files": [
    {
      "path": "src/registry/new-york/blocks/dashboard-and-application/dashboard-dropdown/dashboard-dropdown-21/page.tsx",
      "content": "import AssignDropdown from '@/components/shadcn-studio/blocks/dashboard-dropdown-21/assign-dropdown'\n\nconst users = [\n  {\n    value: 'john-doe',\n    user: 'John Doe',\n    imgSrc: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-1.png',\n    initials: 'JD'\n  },\n  {\n    value: 'moris-tom',\n    user: 'Moris Tom',\n    imgSrc: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-3.png',\n    initials: 'MT'\n  },\n  {\n    value: 'emma-wright',\n    user: 'Emma Wright',\n    imgSrc: 'https://cdn.shadcnstudio.com/ss-assets/avatar/avatar-2.png',\n    initials: 'EW'\n  }\n]\n\nconst DropdownPage = () => {\n  return (\n    <div className='flex h-132 items-start justify-center p-8'>\n      <AssignDropdown defaultOpen={true} userData={users} />\n    </div>\n  )\n}\n\nexport default DropdownPage\n",
      "type": "registry:page",
      "target": "app/dashboard-dropdown-21/page.tsx"
    },
    {
      "path": "src/registry/new-york/components/blocks/dashboard-dropdown-21/assign-dropdown.tsx",
      "content": "'use client'\n\nimport { useId, useState } from 'react'\n\nimport { CheckIcon, ChevronsUpDownIcon, PlusIcon } from 'lucide-react'\n\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\nimport { Button } from '@/components/ui/button'\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator\n} from '@/components/ui/command'\nimport { Label } from '@/components/ui/label'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\n\ntype Props = {\n  defaultOpen?: boolean\n  userData: {\n    value: string\n    user: string\n    imgSrc: string\n    initials: string\n  }[]\n}\n\nconst AssignDropdown = ({ defaultOpen, userData }: Props) => {\n  const id = useId()\n  const [open, setOpen] = useState(defaultOpen)\n  const [selectedValues, setSelectedValues] = useState<string[]>(['john-doe', 'moris-tom'])\n\n  const toggleSelection = (value: string) => {\n    setSelectedValues(prev => (prev.includes(value) ? prev.filter(v => v !== value) : [...prev, value]))\n  }\n\n  // Define maxShownItems before using visibleItems\n  const maxShownItems = 2\n  const visibleItems = selectedValues.slice(0, maxShownItems)\n  const hiddenCount = selectedValues.length - visibleItems.length\n\n  return (\n    <div className='w-full max-w-35'>\n      <Label htmlFor={id} className='sr-only'>\n        Multiple combobox expandable\n      </Label>\n      <Popover open={open} onOpenChange={setOpen}>\n        <PopoverTrigger asChild>\n          <Button\n            id={id}\n            variant='outline'\n            role='combobox'\n            aria-expanded={open}\n            className='h-auto min-h-8 w-full justify-between hover:bg-transparent'\n          >\n            <div className='flex -space-x-2'>\n              {selectedValues.length > 0 ? (\n                <>\n                  {visibleItems.map(val => {\n                    const user = userData.find(c => c.value === val)\n\n                    return user ? (\n                      <Avatar key={val} className='ring-background ring-2'>\n                        <AvatarImage src={user.imgSrc} alt={user.user} />\n                        <AvatarFallback className='text-xs'>{user.initials}</AvatarFallback>\n                      </Avatar>\n                    ) : null\n                  })}\n                  {hiddenCount > 0 ? (\n                    <Avatar className='ring-background ring-2'>\n                      <AvatarFallback className='text-xs'>+{hiddenCount}</AvatarFallback>\n                    </Avatar>\n                  ) : null}\n                </>\n              ) : (\n                <span className='text-muted-foreground'>Select users</span>\n              )}\n            </div>\n            <ChevronsUpDownIcon size={16} className='text-muted-foreground/80 shrink-0' aria-hidden='true' />\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent className='w-74.25 p-0'>\n          <Command className='gap-1 py-3 [&_[data-slot=command-input-wrapper]]:mx-3 [&_[data-slot=command-input-wrapper]]:rounded-md [&_[data-slot=command-input-wrapper]]:border'>\n            <div className='flex items-center justify-between px-3 pb-2'>\n              <span className='text-base font-semibold'>Assign</span>\n              <PlusIcon className='size-5' />\n            </div>\n\n            <CommandSeparator className='mb-1.5' />\n\n            <CommandInput placeholder='Search user' />\n            <CommandList>\n              <CommandEmpty>No user found.</CommandEmpty>\n              <CommandGroup className='px-3'>\n                {userData.map(user => (\n                  <CommandItem\n                    key={user.value}\n                    value={user.value}\n                    onSelect={() => toggleSelection(user.value)}\n                    className='[&_svg:not([class*=\"text-\"])]:!text-popover-foreground justify-between px-3 py-2.5'\n                  >\n                    <div className='flex items-center gap-2'>\n                      <Avatar className='size-5'>\n                        <AvatarImage src={user.imgSrc} alt={user.user} />\n                        <AvatarFallback className='text-xs'>{user.initials}</AvatarFallback>\n                      </Avatar>\n                      <span className='truncate text-base'>{user.user}</span>\n                    </div>\n                    {selectedValues.includes(user.value) && <CheckIcon className='size-5 stroke-[1.5]' />}\n                  </CommandItem>\n                ))}\n              </CommandGroup>\n            </CommandList>\n          </Command>\n        </PopoverContent>\n      </Popover>\n    </div>\n  )\n}\n\nexport default AssignDropdown\n",
      "type": "registry:component",
      "target": "components/shadcn-studio/blocks/dashboard-dropdown-21/assign-dropdown.tsx"
    }
  ]
}